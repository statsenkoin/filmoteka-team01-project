{"mappings":"iiBAAA,ICKIA,EACAC,EAEAC,EDRJC,EAAAC,EAAA,S,0BCEIC,EAAW,EAEXC,EAAc,EAYX,SAASC,EAAiBC,EAAMC,EAAOC,GAC5CT,EAAiBS,EAkFnB,SAA0BC,EAAQC,GAChC,IAAIC,EAASF,EAAOG,QAAO,SAACC,EAAKC,GAK/B,OAAQD,EAAO,yBAAsCE,OAHnDD,IAASV,EACL,sDACA,4BAC4C,KAAQW,OAALD,EAAK,Y,GACxD,IACAhB,EAAaK,IACK,IAAhBC,IACFO,EACE,gEACAA,GAEAP,IAAgBN,IAClBa,GAAW,kEAIfD,EAAeM,UAAY,GAC3BN,EAAeO,mBAAmB,YAAaN,E,CAlG/CO,CA8BF,SAAkBC,EAAaC,GAC7B,IACIC,EACAC,EAFEC,EAAS,GAGTC,EAAcC,KAAKC,MAAMvB,EAAW,GAEtCgB,EAAc,EAChBA,EAAc,EACLA,EAAcC,IACvBD,EAAcC,GAGZA,GAAcjB,GAChBkB,EAAY,EACZC,EAAUF,GAEND,GAAeK,GACjBH,EAAY,EACZC,EAAUnB,GACDgB,EAAcK,GAAeJ,GACtCC,EAAYD,EAA2B,EAAdI,EACzBF,EAAUF,IAEVC,EAAYF,EAAcK,EAC1BF,EAAUH,EAAcK,GAG5B,IAAK,IAAIG,EAAIN,EAAWM,GAAKL,EAASK,GAAK,EACzCJ,EAAOK,KAAKD,GAGVxB,GAAY,IACdoB,EAAOM,OAAO,EAAG,EAAG,GACpBN,EAAOM,OAAON,EAAOO,OAAS,EAAG,EAAGV,GAChCD,EAAc,EAAIK,GAAeJ,EAAajB,GAChDoB,EAAOM,OAAO,EAAG,EAAG,QAElBV,EAAc,EAAIK,EAAcJ,GAAcA,EAAajB,GAC7DoB,EAAOM,OAAON,EAAOO,OAAS,EAAG,EAAG,SAExC,OAAOP,C,CAvEEQ,CAFT3B,EAAcE,EACdR,EAAaS,GAEYR,E,CAQpB,SAASiC,EAAeC,GAC7B,IAAMC,EAAiBD,EAAME,OAAOC,YAYpC,OAVKC,MAAMC,OAAOJ,MAAkBlC,EAAasC,OAAOJ,IACjC,MAAnBA,IACFlC,EAAaI,IAAgBN,EAAaA,EAAaM,EAAc,GAEhD,MAAnB8B,IACFlC,EAA6B,IAAhBI,EAAoB,EAAIA,EAAc,GAE9B,SAAnB8B,IAA2BlC,EAAaI,GAAeD,EAAW,IAC/C,SAAnB+B,IAA2BlC,EAAaI,GAAeD,EAAW,IACtEC,EAAcJ,C,CAiFhBuC,OAAOC,iBAAiB,UAAU,WAChC,IAAMC,EAAUF,OAAOG,WAAW,sBAAsBC,QACxDxC,EAAWsC,EAAU,EAAI,EACzBpC,EAAiBD,EAAaN,EAAYC,E,gCC7H5C,ICaQ6C,EDbRC,EAAA3C,EAAA,S,aAAe4C,EAqBb,W,sBArBmBC,EACJC,G,IAACC,EAADD,EAACC,SAAQC,EAATF,EAAWG,cAAM,IAAAD,GAAOA,E,aACjCE,KAAKC,KAAOD,KAAKE,QAAQL,GACzBE,GAAUC,KAAKG,M,iBAEnBC,IAAA,U,MAAA,SAAQP,GACJ,IAAMI,EAAO,GAEb,OADAA,EAAKI,QAAUC,SAASC,cAAcV,GAC/BI,C,IAGXG,IAAA,O,MAAA,WACIJ,KAAKC,KAAKI,QAAQG,UAAUC,OAAO,Y,IAGvCL,IAAA,O,MAAA,WACIJ,KAAKC,KAAKI,QAAQG,UAAUE,IAAI,Y,OAKtC,G,aCrBFC,EAAA7D,EAAA,SAIM8D,EAAWN,SAASC,cAAc,aAClCM,EAAQP,SAASC,cAAc,UAMrCK,EAASxB,iBAAiB,SAiB1B,SAAuB0B,GACrBA,EAAIC,iBACJH,EAASJ,UAAUQ,OAAO,S,IAjBpBxB,EAAQmB,EAAAM,WAAWC,OACtBC,KACC,SAACC,EAASC,G,MACR,0BAA4C1D,OAAlB0D,EAAQ,EAAE,UAClB1D,OAD0ByD,EAAQE,GAAG,gCACxB3D,OAAbyD,EAAQG,KAAK,kB,IAGlCC,KAAK,IAERX,EAAMhD,mBAAmB,YAAa2B,GHJjC,IAmBHiC,EACAC,EACAC,EArBSC,EAAe,IAAI,EAAAC,EAAAC,cAAa,oBACvCC,EAAc,IAAIrC,EAAY,CAClCG,SAAU,aAGNmC,EAAc1B,SAASC,cAAc,iBACrC0B,EAAgB3B,SAASC,cAAc,eACvC2B,EAAS5B,SAASC,cAAc,iBAChC4B,EAAa7B,SAASC,cAAc,gBACpC6B,EAAe9B,SAASC,cAAc,eACtC8B,EAAkB/B,SAASC,cAAc,aACzC+B,EAAmBhC,SAASC,cAAc,cAEhDyB,EAAY5C,iBAAiB,SA8D7B,SAAqBP,GACnB,IAAM0D,EAAU1D,EAAME,OAAOyD,QAAQ,wBACrC,IAAKD,EAAS,OACd,IAAME,EAAYvD,OAAOqD,EAAQG,QAAQpB,IACnCqB,EAAOhB,EAAiBiB,MAAK,SAAAC,G,OAAQA,EAAKvB,KAAOmB,C,IACjDK,GAAa,EAAAC,EAAAC,kBAAiBL,EAAKM,YAEzC,EAAAF,EAAAG,yBAAwBP,EAAMG,E,IApEhCb,EAAc7C,iBAAiB,S,SA6HQP,G,OAAxBsE,EAAuBC,MAAApD,KAAAqD,U,IA5HtCnB,EAAO9C,iBAAiB,U,SAiFEP,G,OAAXyE,EAAUF,MAAApD,KAAAqD,U,IAhFzBxC,EAAMzB,iBAAiB,S,SAsEK0B,G,OAAbyC,EAAYH,MAAApD,KAAAqD,U,IArE3BlB,EAAW/C,iBAAiB,U,SAiGA0B,G,OAAb0C,EAAYJ,MAAApD,KAAAqD,U,IA5F3B,IAIII,EAJAC,EAAc,GACdC,EAAW,EACXC,EAAc,EACdC,EAAa,EAEbC,GAAiB,EACjBC,GAAiB,EACjBC,GAAkB,E,SAKPC,I,OAAAA,EAAfC,EAAArH,EAAA,CAAAqH,EAAAC,GAAAC,MAAA,SAAAC,I,yEACEtC,EAAYuC,O,UACa,EAAAC,EAAAC,c,cAAzB/C,EAAgBgD,EAAAC,KAChBhD,EAAgBD,EAAiBP,OACjCW,EAAA8C,WAAWC,gBAAgBlD,G,SACrBmD,I,OACN9C,EAAY5B,O,4CANYiD,MAAApD,KAAAqD,U,UASXwB,I,OAAAC,EAAa1B,MAAApD,KAAAqD,U,UAAbyB,I,OAAAA,EAAfZ,EAAArH,EAAA,CAAAqH,EAAAC,GAAAC,MAAA,SAAAC,I,yEACEtC,EAAYuC,O,SACNS,I,OAENlB,EAAaE,EAAiB,IAAMtC,EAAiBuD,YAErDrD,EAAmBF,EAAiBwD,QACpCrD,EAAagD,gBAAgBjD,IAC7B,EAAAoB,EAAAmC,gBAAevD,EAAkBK,GACjC/E,EAAiB2G,EAAaC,EAAY5B,GAC1CF,EAAY5B,O,4CAVciD,MAAApD,KAAAqD,U,UAab0B,I,OAAAI,EAAiB/B,MAAApD,KAAAqD,U,UAAjB8B,I,OAAAA,EAAfjB,EAAArH,EAAA,CAAAqH,EAAAC,GAAAC,MAAA,SAAAC,I,IAEUe,E,sEADJpB,EAAe,C,iCACY,EAAAO,EAAAc,YAAW3B,EAAaE,G,WAA/CwB,EAAcX,EAAAC,MACAO,QAAQvG,OAAM,C,sBAChCkF,EAAcD,EACd5B,EAAY5B,OACZmF,I,0BAGF7D,EAAmB2D,E,4BACVrB,EAAc,C,kCACE,EAAAQ,EAAAgB,oBAAmB9B,EAASG,G,QAArDnC,EAAgBgD,EAAAC,K,4BAEGZ,EAAc,C,kCACvB,EAAAS,EAAAiB,iBAAgB5B,G,8DAChB,EAAAW,EAAAkB,cAAa7B,G,4BAFvBnC,EAAgBgD,EAAAiB,G,6CAbYtC,MAAApD,KAAAqD,U,UA8BjBE,I,OAAAA,EAAfW,EAAArH,EAAA,CAAAqH,EAAAC,GAAAC,MAAA,SAAAC,EAA4BvD,G,yEAC1BA,EAAIC,iBACJgD,GAAiB,EACjBC,GAAkB,EAClBP,EAAU3C,EAAI/B,OAAOuC,GACrBsC,EAAc,E,SACRiB,I,4CANmBzB,MAAApD,KAAAqD,U,UAUZC,I,OAAAA,EAAfY,EAAArH,EAAA,CAAAqH,EAAAC,GAAAC,MAAA,SAAAC,EAA0BxF,G,yEACxBiF,EAAiBjF,EAAM8G,cAAcC,QACrC7B,GAAiB,EACjBC,GAAkB,EAClBJ,EAAc,EAEVE,GACFxB,EAAiB9B,UAAUE,IAAI,cAC/B2B,EAAgB7B,UAAUC,OAAO,gBAEjC6B,EAAiB9B,UAAUC,OAAO,cAClC4B,EAAgB7B,UAAUE,IAAI,e,SAG1BmE,I,4CAdiBzB,MAAApD,KAAAqD,U,UAkBVG,I,OAAAA,EAAfU,EAAArH,EAAA,CAAAqH,EAAAC,GAAAC,MAAA,SAAAC,EAA4BvD,G,qEAC1BA,EAAIC,iBACJ2C,EAAc5C,EAAI/B,OAAO8G,SAASC,YAAYC,MAAMC,OACpD7D,EAAW8D,QACNvC,EAAW,C,sBACd4B,I,iCAGFtB,GAAkB,EAClBD,GAAiB,EACjBJ,EAAWC,EACXA,EAAc,E,UACRiB,I,6CAZmBzB,MAAApD,KAAAqD,U,CAc3B,SAASiC,IACPlD,EAAa8D,MAAMC,QAAU,IAI7BC,YAAW,WACThE,EAAa8D,MAAMC,QAAU,G,GAC5B,I,UAIUhD,I,OAAAA,EAAfe,EAAArH,EAAA,CAAAqH,EAAAC,GAAAC,MAAA,SAAAC,EAAuCxF,G,IAG/BwH,E,qEAFwB,WAA1BxH,EAAME,OAAOuH,SAAqB,C,mDACtCvE,EAAYuC,QACN+B,EAAazH,EAAeC,MACf+E,EAAW,C,uDAC9BA,EAAcyC,E,SACRxB,I,OACN1F,OAAOoH,SAAS,EAAG,GACnBxE,EAAY5B,O,6CARwBiD,MAAApD,KAAAqD,U,CA7GtCjB,EAAa8D,MAAMC,QAAU,I,WAIdlC,EAAWb,MAAApD,KAAAqD,U,CAF1BmD,G,WIlDqB,CACnBC,GAAInG,SAASC,cAAc,WAC3BmG,WAAW,EACXpC,KAAA,WACE,GAAItE,KAAKyG,GAAGjG,UAAUmG,SAAS,iBAAmB3G,KAAKyG,GAAGjG,UAAUmG,SAAS,iBAAkB,C,WAC7F3G,KAAKyG,GAAGjG,UAAUC,OAAO,eACzBT,KAAKyG,GAAGjG,UAAUE,IAAI,iBACtBvB,OAAOiH,YAAW,WAChBQ,EAAKH,GAAGjG,UAAUC,OAAO,gB,GACxB,I,GAGPN,KAAA,WACE,IACGH,KAAKyG,GAAGjG,UAAUmG,SAAS,iBAC3B3G,KAAKyG,GAAGjG,UAAUmG,SAAS,iBAC5B,C,WACA3G,KAAKyG,GAAGjG,UAAUE,IAAI,iBACtBvB,OAAOiH,YAAW,WAChBQ,EAAKH,GAAGjG,UAAUE,IAAI,eACtBkG,EAAKH,GAAGjG,UAAUC,OAAO,gB,GACxB,I,GAGPrB,iBAAA,W,WACED,OAAOC,iBAAiB,UAAU,WAChC,IAAMyH,EAAU1H,OAAO0H,SAAWvG,SAASwG,gBAAgBC,UACvDH,EAAKF,WAAaG,EAAU,IAGhCD,EAAKF,WAAY,EAEbG,EAAU,IACZD,EAAKtC,OAELsC,EAAKzG,O,IAITG,SAASC,cAAc,WAAWyG,QAAU,WAC1CJ,EAAKF,WAAY,EACjBE,EAAKzG,OAELhB,OAAOoH,SAAS,CACdU,IAAK,EACLC,KAAM,EACNC,SAAU,U,IAMZ/H,mB,WCpDN,IAAMgI,GAAc9G,SAASC,cAAc,iBAErC8G,IADY/G,SAASC,cAAc,eACxBD,SAASC,cAAc,SAElC+G,GAAWhH,SAASC,cAAc,UAClCgH,GAAYjH,SAASC,cAAc,WACnCiH,GAAYlH,SAASC,cAAc,WACnCkH,GAAYnH,SAASC,cAAc,WACnCmH,GAAWpH,SAASC,cAAc,UAClCoH,GAAYrH,SAASC,cAAc,WACnCqH,GAAWtH,SAASC,cAAc,UAElCsH,GAAQvH,SAASC,cAAc,OAC/BuH,GAAQxH,SAASC,cAAc,OAC/BwH,GAAQzH,SAASC,cAAc,OAC/ByH,GAAQ1H,SAASC,cAAc,OAC/B0H,GAAQ3H,SAASC,cAAc,OAC/B2H,GAAQ5H,SAASC,cAAc,OAC/B4H,GAAQ7H,SAASC,cAAc,OAC/B6H,GAAQ9H,SAASC,cAAc,OAC/B8H,GAAQ/H,SAASC,cAAc,OAC/B+H,GAAShI,SAASC,cAAc,QAChCgI,GAASjI,SAASC,cAAc,QAoCtC,SAASiI,GAAWC,GAChBA,EAAE1H,iBACF2H,KACAC,KAUJ,SAAmBF,GACmB,OAAhCA,EAAE1J,OAAO6J,aAAa,OACxBf,GAAMrH,UAAUE,IAAI,qBACc,OAAhC+H,EAAE1J,OAAO6J,aAAa,OACxBd,GAAMtH,UAAUE,IAAI,qBACc,OAAhC+H,EAAE1J,OAAO6J,aAAa,OACxBb,GAAMvH,UAAUE,IAAI,qBACc,OAAhC+H,EAAE1J,OAAO6J,aAAa,OACxBZ,GAAMxH,UAAUE,IAAI,qBACc,OAAhC+H,EAAE1J,OAAO6J,aAAa,OACxBX,GAAMzH,UAAUE,IAAI,qBACc,OAAhC+H,EAAE1J,OAAO6J,aAAa,OACxBV,GAAM1H,UAAUE,IAAI,qBACc,OAAhC+H,EAAE1J,OAAO6J,aAAa,OACxBT,GAAM3H,UAAUE,IAAI,qBACc,OAAhC+H,EAAE1J,OAAO6J,aAAa,OACxBR,GAAM5H,UAAUE,IAAI,qBACc,OAAhC+H,EAAE1J,OAAO6J,aAAa,OACxBP,GAAM7H,UAAUE,IAAI,qBACc,QAAhC+H,EAAE1J,OAAO6J,aAAa,OACxBN,GAAO9H,UAAUE,IAAI,qBACa,QAAhC+H,EAAE1J,OAAO6J,aAAa,OACxBL,GAAO/H,UAAUE,IAAI,oB,CA/BrBmI,CAAUJ,E,CAkCd,SAASE,KACPd,GAAMrH,UAAUC,OAAO,qBACvBqH,GAAMtH,UAAUC,OAAO,qBACvBsH,GAAMvH,UAAUC,OAAO,qBACvBuH,GAAMxH,UAAUC,OAAO,qBACvBwH,GAAMzH,UAAUC,OAAO,qBACvByH,GAAM1H,UAAUC,OAAO,qBACvB0H,GAAM3H,UAAUC,OAAO,qBACvB2H,GAAM5H,UAAUC,OAAO,qBACvB4H,GAAM7H,UAAUC,OAAO,qBACvB6H,GAAO9H,UAAUC,OAAO,qBACxB8H,GAAO/H,UAAUC,OAAO,oB,CAG1B,SAASiI,KACLpB,GAAS9G,UAAUC,OAAO,eAC1B8G,GAAU/G,UAAUC,OAAO,eAC3B+G,GAAUhH,UAAUC,OAAO,eAC3BgH,GAAUjH,UAAUC,OAAO,eAC3BiH,GAASlH,UAAUC,OAAO,eAC1BkH,GAAUnH,UAAUC,OAAO,eAC3BmH,GAASpH,UAAUC,OAAO,c,CA7F9B4G,GAASjI,iBAAiB,SAyC1B,SAAeqJ,GACXC,KACAC,KACAtB,GAAS7G,UAAUC,OAAO,a,IA3C9B2G,GAAYhI,iBAAiB,SAY7B,SAAgBqJ,GACZA,EAAE1H,iBACET,SAASwI,YAAYC,WAAa,MAClCzB,GAAS9G,UAAUE,IAAI,eACvB6G,GAAU/G,UAAUE,IAAI,eACxB8G,GAAUhH,UAAUE,IAAI,eACxB+G,GAAUjH,UAAUE,IAAI,gBAGxBJ,SAASwI,YAAYC,WAAa,OAClCrB,GAASlH,UAAUE,IAAI,eACvBiH,GAAUnH,UAAUE,IAAI,gBAGxBJ,SAASwI,YAAYC,WAAa,MAClCnB,GAASpH,UAAUE,IAAI,eAG3B2G,GAAS7G,UAAUE,IAAI,a,IA5B3B4G,GAASlI,iBAAiB,QAASoJ,IACnCjB,GAAUnI,iBAAiB,QAASoJ,IACpChB,GAAUpI,iBAAiB,QAASoJ,IACpCf,GAAUrI,iBAAiB,QAASoJ,IACpCd,GAAStI,iBAAiB,QAASoJ,IACnCb,GAAUvI,iBAAiB,QAASoJ,IACpCZ,GAASxI,iBAAiB,QAASoJ,I,WCVnC,IAAAQ,GAAAlM,EAAA,S,6BAKMmM,GAAU,CACdC,MAAO,QACPC,aAAc,OACdC,SAAU,gBACVC,SAAU,OACVC,SAAU,OACVC,QAAS,KAGLC,GAAUlJ,SAASC,cAAc,qBAEvCiJ,GAAQpK,iBAAiB,SAGzB,SAAqBP,GACnB,IAAMuC,EAAUvC,EAAME,OAEtB,GACEqC,EAAQZ,UAAUmG,SAAS,sBAC3BvF,EAAQZ,UAAUmG,SAAS,mBAC3B,CACA8C,GAAiB7H,EAAa8H,kBAE9B,IAiBIC,EAjBEC,EAASJ,GAAQK,iBAAiBA,iBAAiBvI,GAEnDwI,EAAcL,GAAeM,QAAO,SAAAlH,G,OAAQA,EAAKvB,IAAMsI,C,IAE7D,GAAIxI,EAAQZ,UAAUmG,SAAS,qBAO7B,GANK9E,EAAAmI,aAAaN,mBAChB7H,EAAAmI,aAAapF,kBAEE/C,EAAAmI,aAAaN,kBACAK,QAAO,SAAArM,G,OAAQA,EAAK4D,IAAMsI,C,IAEvClL,OACfuL,GAAAC,OAAOC,QACL,iDACAlB,SAGFU,EAAA9H,EAAAmI,cAAaI,iBAAbhH,MAAAuG,EAA8BzF,EAAA8E,GAAA,CAAGc,IACjCG,GAAAC,OAAOG,QAAQ,yCAA0CpB,SAEtD,GAAI7H,EAAQZ,UAAUmG,SAAS,mBAAoB,CAIxD,IAUE2D,EANF,GAPKzI,EAAA0I,WAAWb,mBACd7H,EAAA0I,WAAW3F,kBAEI/C,EAAA0I,WAAWb,kBAEEK,QAAO,SAAArM,G,OAAQA,EAAK4D,IAAMsI,C,IAEvClL,OACfuL,GAAAC,OAAOC,QACL,iDACAlB,SAGFqB,EAAAzI,EAAA0I,YAAWH,iBAAXhH,MAAAkH,EAA4BpG,EAAA8E,GAAA,CAAGc,IAC/BG,GAAAC,OAAOG,QAAQ,yCAA0CpB,G,CAG7D7H,EAAQoJ,SAAW,OACnBpJ,EAAQ8E,MAAMuE,WAAa,S,KAlD/B,IAAIhB,GAAiB,K","sources":["src/js/filmoteka.js","src/js/custom-pagination.js","src/js/spinner.js","src/js/genres-btn.js","src/js/btn-up.js","src/js/modal-teams.js","src/js/library.js"],"sourcesContent":["import {\n  fetchPopular,\n  fetchPopularDay,\n  fetchGenre,\n  fetchMoivesByGenre,\n  fetchQuery,\n} from './api-service';\nimport { updatePagination, getCurrentPage } from './custom-pagination';\nimport {\n  markupTrending,\n  getGenreByIdList,\n  createMarkupModalWindow,\n} from './markups';\nimport modalActions from './modal-servise';\nimport LoadSpinner from './spinner';\nimport { genresFilm, LocalStorage } from './local-storage';\nimport { items } from './genres-btn';\n\nexport const popularFilms = new LocalStorage('currentFilmsList');\nconst loadSpinner = new LoadSpinner({\n  selector: '.loading',\n});\n\nconst homeGallery = document.querySelector('.home-gallery');\nconst paginationRef = document.querySelector('.pagination');\nconst toggle = document.querySelector('#input-toggle');\nconst searchForm = document.querySelector('.search-form');\nconst errorMessage = document.querySelector('.error-text');\nconst weekFalseButton = document.querySelector('#week-btn');\nconst todayFalseButton = document.querySelector('#today-btn');\n\nhomeGallery.addEventListener('click', onCardClick);\npaginationRef.addEventListener('click', onPaginationButtonClick);\ntoggle.addEventListener('change', onCheckBox);\nitems.addEventListener('click', onGanreClick);\nsearchForm.addEventListener('submit', onSearchForm);\n\nlet receivedFilmList;\nlet currentGenres;\nlet currentFilmsList;\nlet searchQuery = '';\nlet tempPage = 1;\nlet currentPage = 1;\nlet totalPages = 1;\nlet genreId;\nlet isTodayChecked = false;\nlet isGenreChoosen = false;\nlet isSearchChoosen = false;\nerrorMessage.style.opacity = '0';\n\ninitGallery();\n\nasync function initGallery() {\n  loadSpinner.show();\n  receivedFilmList = await fetchGenre();\n  currentGenres = receivedFilmList.genres;\n  genresFilm.setLocalStorage(currentGenres);\n  await updateGallery();\n  loadSpinner.hide();\n}\n\nasync function updateGallery() {\n  loadSpinner.show();\n  await chooseSearchQuery();\n  // ======================================================\n  totalPages = isGenreChoosen ? 300 : receivedFilmList.total_pages;\n  // ======================================================\n  currentFilmsList = receivedFilmList.results;\n  popularFilms.setLocalStorage(currentFilmsList);\n  markupTrending(currentFilmsList, homeGallery);\n  updatePagination(currentPage, totalPages, paginationRef);\n  loadSpinner.hide();\n}\n\nasync function chooseSearchQuery() {\n  if (isSearchChoosen) {\n    const searchFilmList = await fetchQuery(searchQuery, currentPage);\n    if (!searchFilmList.results.length) {\n      currentPage = tempPage;\n      loadSpinner.hide();\n      warningMessage();\n      return;\n    }\n    receivedFilmList = searchFilmList;\n  } else if (isGenreChoosen) {\n    receivedFilmList = await fetchMoivesByGenre(genreId, currentPage);\n  } else {\n    receivedFilmList = isTodayChecked\n      ? await fetchPopularDay(currentPage)\n      : await fetchPopular(currentPage);\n  }\n}\n\nfunction onCardClick(event) {\n  const filmBox = event.target.closest('.movies-images__item');\n  if (!filmBox) return;\n  const filmBoxId = Number(filmBox.dataset.id);\n  const data = currentFilmsList.find(film => film.id === filmBoxId);\n  const filmGenres = getGenreByIdList(data.genre_ids);\n  // modalActions(event);\n  createMarkupModalWindow(data, filmGenres);\n}\n\n// ===== button genres ===============================\nasync function onGanreClick(evt) {\n  evt.preventDefault();\n  isGenreChoosen = true;\n  isSearchChoosen = false;\n  genreId = evt.target.id;\n  currentPage = 1;\n  await updateGallery();\n}\n\n// ===== checkBox week/today ========================\nasync function onCheckBox(event) {\n  isTodayChecked = event.currentTarget.checked;\n  isGenreChoosen = false;\n  isSearchChoosen = false;\n  currentPage = 1;\n\n  if (isTodayChecked) {\n    todayFalseButton.classList.add('line-after');\n    weekFalseButton.classList.remove('line-after');\n  } else {\n    todayFalseButton.classList.remove('line-after');\n    weekFalseButton.classList.add('line-after');\n  }\n\n  await updateGallery();\n}\n\n// ===== search input =================================\nasync function onSearchForm(evt) {\n  evt.preventDefault();\n  searchQuery = evt.target.elements.searchQuery.value.trim();\n  searchForm.reset();\n  if (!searchQuery) {\n    warningMessage();\n    return;\n  }\n  isSearchChoosen = true;\n  isGenreChoosen = false;\n  tempPage = currentPage;\n  currentPage = 1;\n  await updateGallery();\n}\nfunction warningMessage() {\n  errorMessage.style.opacity = '1';\n  timeoutRemoveErrorMessage();\n}\nfunction timeoutRemoveErrorMessage() {\n  setTimeout(() => {\n    errorMessage.style.opacity = '0';\n  }, 2000);\n}\n\n// ===== pagination =====================================\nasync function onPaginationButtonClick(event) {\n  if (event.target.nodeName !== 'BUTTON') return;\n  loadSpinner.show();\n  const targetPage = getCurrentPage(event);\n  if (targetPage === currentPage) return;\n  currentPage = targetPage;\n  await updateGallery();\n  window.scrollTo(0, 0);\n  loadSpinner.hide();\n}\n","// https://jasonwatmore.com/post/2018/08/07/javascript-pure-pagination-logic-in-vanilla-js-typescript\n\nlet maxPages = 9; //maximum number of page navigation links to display\nlet output;\nlet currentPage = 1;\nlet totalPages;\nlet paginationElem;\n\nlet targetPage;\n\n/**\n * to export - marking up pagination line\n * @param {Number} page - the current active page\n * @param {Number} pages - the total number of pages\n * @param {DOM element} paginationRef - where to put pagination line\n */\nexport function updatePagination(page, pages, paginationRef) {\n  paginationElem = paginationRef;\n  currentPage = page;\n  totalPages = pages;\n  output = paginate(currentPage, totalPages);\n  markupPagination(output, paginationElem);\n}\n\n/**\n *\n * @param {event} event click on button element\n * @returns currentPage\n */\nexport function getCurrentPage(event) {\n  const targetPageText = event.target.textContent;\n\n  if (!isNaN(Number(targetPageText))) targetPage = Number(targetPageText);\n  if (targetPageText === '>') {\n    targetPage = currentPage === totalPages ? totalPages : currentPage + 1;\n  }\n  if (targetPageText === '<') {\n    targetPage = currentPage === 1 ? 1 : currentPage - 1;\n  }\n  if (targetPageText === ' ...') targetPage = currentPage - (maxPages - 4);\n  if (targetPageText === '... ') targetPage = currentPage + (maxPages - 4);\n  currentPage = targetPage;\n  return currentPage;\n}\n\n/**\n *\n * @param {Number} currentPage - the current active page\n * @param {Number} totalPages - the total number of pages\n * @returns {Array} of text content for buttons in pagination line\n */\nfunction paginate(currentPage, totalPages) {\n  const output = [];\n  let startPage;\n  let endPage;\n  const offsetPages = Math.floor(maxPages / 2);\n\n  if (currentPage < 1) {\n    currentPage = 1;\n  } else if (currentPage > totalPages) {\n    currentPage = totalPages;\n  }\n\n  if (totalPages <= maxPages) {\n    startPage = 1;\n    endPage = totalPages;\n  } else {\n    if (currentPage <= offsetPages) {\n      startPage = 1;\n      endPage = maxPages;\n    } else if (currentPage + offsetPages >= totalPages) {\n      startPage = totalPages - offsetPages * 2;\n      endPage = totalPages;\n    } else {\n      startPage = currentPage - offsetPages;\n      endPage = currentPage + offsetPages;\n    }\n  }\n  for (let i = startPage; i <= endPage; i += 1) {\n    output.push(i);\n  }\n\n  if (maxPages >= 9) {\n    output.splice(0, 1, 1);\n    output.splice(output.length - 1, 1, totalPages);\n    if (currentPage - 1 > offsetPages && totalPages > maxPages) {\n      output.splice(1, 1, ' ...');\n    }\n    if (currentPage + 1 + offsetPages < totalPages && totalPages > maxPages)\n      output.splice(output.length - 2, 1, '... ');\n  }\n  return output;\n}\n\n/**\n * marking up pagination line\n * @param {Array} output - text content for buttons in pagination line output\n * @param {DOM element} paginationElem - where to put pagination line\n */\nfunction markupPagination(output, paginationElem) {\n  let markup = output.reduce((acc, item) => {\n    const pagiClass =\n      item === currentPage\n        ? 'class=\"pagination-button pagination-button-current\"'\n        : 'class=\"pagination-button\"';\n    return (acc += `<button type=\"button\" ${pagiClass}>${item}</button>`);\n  }, ``);\n  if (totalPages > maxPages) {\n    if (currentPage !== 1) {\n      markup =\n        `<button type=\"button\" class=\"pagination-button\">&lt;</button>` +\n        markup;\n    }\n    if (currentPage !== totalPages) {\n      markup += `<button type=\"button\" class=\"pagination-button\">&gt;</button>`;\n    }\n  }\n\n  paginationElem.innerHTML = '';\n  paginationElem.insertAdjacentHTML('beforeend', markup);\n}\n\nwindow.addEventListener('resize', () => {\n  const isMatch = window.matchMedia('(min-width: 768px)').matches;\n  maxPages = isMatch ? 9 : 5;\n  updatePagination(currentPage, totalPages, paginationElem);\n});\n","export default class LoadSpinner {\n    constructor ({selector, hidden = true}) {\n        this.refs = this.getRefs(selector);\n        hidden && this.hide();\n    }\n    getRefs(selector) {\n        const refs = {};\n        refs.spinner = document.querySelector(selector);\n        return refs;\n    }\n\n    show() {\n        this.refs.spinner.classList.remove('is-hidden');\n    }\n\n    hide() {\n        this.refs.spinner.classList.add('is-hidden');\n    }\n}\n\n\n// import LoadSpinner from './spinner';\n// const loadSpinner = new LoadSpinner({selector: '.loading',});\n\n// loadSpinner.show();\n// loadSpinner.hide();","import { dataGenres } from './test';\n// import { fetchMoivesByGenre } from './api-service';\n// import { markupTrending } from './markups';\n\nconst dropdown = document.querySelector('.dropdown');\nconst items = document.querySelector('.items');\n// const homeGallery = document.querySelector('.home-gallery');\n\n// =====================================\nexport { items };\n// =====================================\ndropdown.addEventListener('click', onButtonClick);\nfunction btnGenres() {\n  const liArr = dataGenres.genres\n    .map(\n      (element, index) =>\n        `<a href=\"#\" style=\"--i:${index + 1}\" id=\"${element.id}\">\n           <span></span>${element.name}\n         </a>`\n    )\n    .join('');\n\n  items.insertAdjacentHTML('beforeend', liArr);\n}\n\n// items.addEventListener('click', onGanreClick);\nbtnGenres();\n\nfunction onButtonClick(evt) {\n  evt.preventDefault();\n  dropdown.classList.toggle('active');\n}\n\n// async function onGanreClick(evt) {\n//   evt.preventDefault();\n\n//   const arrMovies = await fetchMoivesByGenre(evt.target.id, 1);\n//   markupTrending(arrMovies.results, homeGallery);\n// }\n","export const btnUp = {\n  el: document.querySelector('.btn-up'),\n  scrolling: false,\n  show() {\n    if (this.el.classList.contains('btn-up_hide') && !this.el.classList.contains('btn-up_hiding')) {\n      this.el.classList.remove('btn-up_hide');\n      this.el.classList.add('btn-up_hiding');\n      window.setTimeout(() => {\n        this.el.classList.remove('btn-up_hiding');\n      }, 300);\n    }\n  },\n  hide() {\n    if (\n      !this.el.classList.contains('btn-up_hide') &&\n      !this.el.classList.contains('btn-up_hiding')\n    ) {\n      this.el.classList.add('btn-up_hiding');\n      window.setTimeout(() => {\n        this.el.classList.add('btn-up_hide');\n        this.el.classList.remove('btn-up_hiding');\n      }, 300);\n    }\n  },\n  addEventListener() {\n    window.addEventListener('scroll', () => {\n      const scrollY = window.scrollY || document.documentElement.scrollTop;\n      if (this.scrolling && scrollY > 0) {\n        return;\n      }\n      this.scrolling = false;\n\n      if (scrollY > 400) {\n        this.show();\n      } else {\n        this.hide();\n      }\n    });\n\n    document.querySelector('.btn-up').onclick = () => {\n      this.scrolling = true;\n      this.hide();\n\n      window.scrollTo({\n        top: 0,\n        left: 0,\n        behavior: 'smooth',\n      });\n    };\n  },\n};\n\nbtnUp.addEventListener();\n","const studentsRef = document.querySelector('.footer__link');\nconst teamsDesk = document.querySelector('.teams_desk');\nconst fonTeams = document.querySelector('.fon');\n\nconst line1Ref = document.querySelector('.line1');\nconst line11Ref = document.querySelector('.line11');\nconst line12Ref = document.querySelector('.line12');\nconst line13Ref = document.querySelector('.line13');\nconst line2Ref = document.querySelector('.line2');\nconst line21Ref = document.querySelector('.line21');\nconst line3Ref = document.querySelector('.line3');\n\nconst p1Ref = document.querySelector('#p1');\nconst p2Ref = document.querySelector('#p2');\nconst p3Ref = document.querySelector('#p3');\nconst p4Ref = document.querySelector('#p4');\nconst p5Ref = document.querySelector('#p5');\nconst p6Ref = document.querySelector('#p6');\nconst p7Ref = document.querySelector('#p7');\nconst p8Ref = document.querySelector('#p8');\nconst p9Ref = document.querySelector('#p9');\nconst p10Ref = document.querySelector('#p10');\nconst p11Ref = document.querySelector('#p11');\n\nfonTeams.addEventListener('click', close);\nstudentsRef.addEventListener('click', slider);\n\nline1Ref.addEventListener('click', showPerson)\nline11Ref.addEventListener('click', showPerson);\nline12Ref.addEventListener('click', showPerson);\nline13Ref.addEventListener('click', showPerson);\nline2Ref.addEventListener('click', showPerson);\nline21Ref.addEventListener('click', showPerson);\nline3Ref.addEventListener('click', showPerson);\n\n\n\nfunction slider(e) {\n    e.preventDefault();\n    if (document.defaultView.innerWidth < 768) {\n        line1Ref.classList.add('line_active');\n        line11Ref.classList.add('line_active');\n        line12Ref.classList.add('line_active');\n        line13Ref.classList.add('line_active');\n    }\n\n    if (document.defaultView.innerWidth < 1280) {\n        line2Ref.classList.add('line_active');\n        line21Ref.classList.add('line_active');\n    }\n\n    if (document.defaultView.innerWidth > 1280) {\n        line3Ref.classList.add('line_active')\n    }\n\n    fonTeams.classList.add('fon_active');\n}\n\nfunction showPerson(e) {\n    e.preventDefault();\n    removeLine();\n    removePerson();\n    addPerson(e);\n}\n\nfunction close(e) {\n    removeLine();\n    removePerson();\n    fonTeams.classList.remove('fon_active');\n}\n\nfunction addPerson(e) {\n  if (e.target.getAttribute('id') === 't1')\n    p1Ref.classList.add('teams_desk_active');\n  if (e.target.getAttribute('id') === 't2')\n    p2Ref.classList.add('teams_desk_active');\n  if (e.target.getAttribute('id') === 't3')\n    p3Ref.classList.add('teams_desk_active');\n  if (e.target.getAttribute('id') === 't4')\n    p4Ref.classList.add('teams_desk_active');\n  if (e.target.getAttribute('id') === 't5')\n    p5Ref.classList.add('teams_desk_active');\n  if (e.target.getAttribute('id') === 't6')\n    p6Ref.classList.add('teams_desk_active');\n  if (e.target.getAttribute('id') === 't7')\n    p7Ref.classList.add('teams_desk_active');\n  if (e.target.getAttribute('id') === 't8')\n    p8Ref.classList.add('teams_desk_active');\n  if (e.target.getAttribute('id') === 't9')\n    p9Ref.classList.add('teams_desk_active');\n  if (e.target.getAttribute('id') === 't10')\n    p10Ref.classList.add('teams_desk_active');\n  if (e.target.getAttribute('id') === 't11')\n    p11Ref.classList.add('teams_desk_active');\n}\n\nfunction removePerson() {\n  p1Ref.classList.remove('teams_desk_active');\n  p2Ref.classList.remove('teams_desk_active');\n  p3Ref.classList.remove('teams_desk_active');\n  p4Ref.classList.remove('teams_desk_active');\n  p5Ref.classList.remove('teams_desk_active');\n  p6Ref.classList.remove('teams_desk_active');\n  p7Ref.classList.remove('teams_desk_active');\n  p8Ref.classList.remove('teams_desk_active');\n  p9Ref.classList.remove('teams_desk_active');\n  p10Ref.classList.remove('teams_desk_active');\n  p11Ref.classList.remove('teams_desk_active');\n}\n\nfunction removeLine(){\n    line1Ref.classList.remove('line_active');\n    line11Ref.classList.remove('line_active');\n    line12Ref.classList.remove('line_active');\n    line13Ref.classList.remove('line_active');\n    line2Ref.classList.remove('line_active');\n    line21Ref.classList.remove('line_active');\n    line3Ref.classList.remove('line_active');\n}","// import {\n//   popularFilmsbyDay,\n//   popularFilmsbyWeek,\n//   watchedFilms,\n//   queueFilms,\n// } from './local-storage';\n// import { Notify } from 'notiflix/build/notiflix-notify-aio';\n// ============================================================================\n//Реаліція додавання в бібліотеку з картки-модалки\n\n// 1) імпортувати класи з популярними +++\n// 2) створити нові екземпляри класу Watched та Queue +++\n// 3) вибрати елементи кнопок +++\n// 4) вибрати чекбокс +++\n// 5) додати слухача  div ++++\n// 6) прописати обробник - має перевіряти Target, потім перевіряти стан чекбокса. ++++\n// 7) Якщо він checked, тоді загружати з сторедж популярні за день, в іншому випадку - за тиждень. +++\n// 8) Потім обробник має шукати ключ до фільму на картці - властивість element.closest('селектор батька').Потім якимось чином беремо звідти id - запитати по реалізацію у Ігора, бо зараз id на картці не має!!!!!! ++++\n// 9) Потім проводимо пошук через arr.fiter(умова - співпадання id), де  arr - це масив популярних фільмів(за станом чекбокса) ++++\n//10) Знаходимо об'єкт фільма і викликаємо метод updateLocalStorage(об'єкт фільма отриманий з фільтра) ++++\n\n//13) Потім міняєм вигляд кнопки\n\nimport { watchedFilms, queueFilms } from './local-storage';\nimport { popularFilms } from './filmoteka';\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\n\n//options for notiflix\nconst options = {\n  width: '280px',\n  borderRadius: '30px',\n  position: 'center-bottom',\n  distance: '25px',\n  fontSize: '18px',\n  timeout: 2000,\n};\n\nconst overlay = document.querySelector('.js-filmInfoModal');\n\noverlay.addEventListener('click', onWathedBtn);\nlet filmCollection = null;\n\nfunction onWathedBtn(event) {\n  const element = event.target;\n\n  if (\n    element.classList.contains('js-add-to-watched') ||\n    element.classList.contains('js-add-to-queue')\n  ) {\n    filmCollection = popularFilms.getLocalStorage();\n\n    const idFilm = overlay.lastElementChild.lastElementChild.id;\n\n    const currentFilm = filmCollection.filter(film => film.id == idFilm);\n\n    if (element.classList.contains('js-add-to-watched')) {\n      if (!watchedFilms.getLocalStorage()) {\n        watchedFilms.setLocalStorage();\n      }\n      const response = watchedFilms.getLocalStorage();\n      const filmIncludes = response.filter(item => item.id == idFilm);\n\n      if (filmIncludes.length) {\n        Notify.warning(\n          'The movie has already been added to my library',\n          options\n        );\n      } else {\n        watchedFilms.addFilmtoStorage(...currentFilm);\n        Notify.success('The movie has been added to my library', options);\n      }\n    } else if (element.classList.contains('js-add-to-queue')) {\n      if (!queueFilms.getLocalStorage()) {\n        queueFilms.setLocalStorage();\n      }\n      const response = queueFilms.getLocalStorage();\n\n      const filmIncludes = response.filter(item => item.id == idFilm);\n\n      if (filmIncludes.length) {\n        Notify.warning(\n          'The movie has already been added to my library',\n          options\n        );\n      } else {\n        queueFilms.addFilmtoStorage(...currentFilm);\n        Notify.success('The movie has been added to my library', options);\n      }\n    }\n    element.disabled = 'true';\n    element.style.background = '#FF7F50';\n  }\n}\n"],"names":["$9e52eebca3574f80$var$totalPages","$9e52eebca3574f80$var$paginationElem","$9e52eebca3574f80$var$targetPage","$bpxeT","parcelRequire","$9e52eebca3574f80$var$maxPages","$9e52eebca3574f80$var$currentPage","$9e52eebca3574f80$export$909ec5aabce1b1f7","page","pages","paginationRef","output2","paginationElem1","markup","reduce","acc","item","concat","innerHTML","insertAdjacentHTML","$9e52eebca3574f80$var$markupPagination","currentPage1","totalPages1","startPage","endPage","output1","offsetPages","Math","floor","i","push","splice","length","$9e52eebca3574f80$var$paginate","$9e52eebca3574f80$export$7945ba8eb1c827e6","event","targetPageText","target","textContent","isNaN","Number","window","addEventListener","isMatch","matchMedia","matches","liArr","$8MBJY","$dd8ebecfaae47a78$export$2e2bcd8739ae039","LoadSpinner","param","selector","_hidden","hidden","this","refs","getRefs","hide","key","spinner","document","querySelector","classList","remove","add","$8FeKp","$bee214a113ebdbaf$var$dropdown","$bee214a113ebdbaf$export$17a1664ed1fb5d6f","evt","preventDefault","toggle","dataGenres","genres","map","element","index","id","name","join","$0d1473df3547cfcd$var$receivedFilmList","$0d1473df3547cfcd$var$currentGenres","$0d1473df3547cfcd$var$currentFilmsList","$0d1473df3547cfcd$export$882ffcee72083d19","$4LMMA","LocalStorage","$0d1473df3547cfcd$var$loadSpinner","$0d1473df3547cfcd$var$homeGallery","$0d1473df3547cfcd$var$paginationRef","$0d1473df3547cfcd$var$toggle","$0d1473df3547cfcd$var$searchForm","$0d1473df3547cfcd$var$errorMessage","$0d1473df3547cfcd$var$weekFalseButton","$0d1473df3547cfcd$var$todayFalseButton","filmBox","closest","filmBoxId","dataset","data","find","film","filmGenres","$LW3sO","getGenreByIdList","genre_ids","createMarkupModalWindow","$0d1473df3547cfcd$var$_onPaginationButtonClick","apply","arguments","$0d1473df3547cfcd$var$_onCheckBox","$0d1473df3547cfcd$var$_onGanreClick","$0d1473df3547cfcd$var$_onSearchForm","$0d1473df3547cfcd$var$genreId","$0d1473df3547cfcd$var$searchQuery","$0d1473df3547cfcd$var$tempPage","$0d1473df3547cfcd$var$currentPage","$0d1473df3547cfcd$var$totalPages","$0d1473df3547cfcd$var$isTodayChecked","$0d1473df3547cfcd$var$isGenreChoosen","$0d1473df3547cfcd$var$isSearchChoosen","$0d1473df3547cfcd$var$_initGallery","$parcel$interopDefault","$2TvXO","mark","_callee","show","$1h2Gi","fetchGenre","_ctx","sent","genresFilm","setLocalStorage","$0d1473df3547cfcd$var$updateGallery","$0d1473df3547cfcd$var$_updateGallery","$0d1473df3547cfcd$var$chooseSearchQuery","total_pages","results","markupTrending","$0d1473df3547cfcd$var$_chooseSearchQuery","searchFilmList","fetchQuery","$0d1473df3547cfcd$var$warningMessage","fetchMoivesByGenre","fetchPopularDay","fetchPopular","t0","currentTarget","checked","elements","searchQuery","value","trim","reset","style","opacity","setTimeout","targetPage","nodeName","scrollTo","$0d1473df3547cfcd$var$initGallery","el","scrolling","contains","_this","scrollY","documentElement","scrollTop","onclick","top","left","behavior","$f1dc4890c6a9e02c$var$studentsRef","$f1dc4890c6a9e02c$var$fonTeams","$f1dc4890c6a9e02c$var$line1Ref","$f1dc4890c6a9e02c$var$line11Ref","$f1dc4890c6a9e02c$var$line12Ref","$f1dc4890c6a9e02c$var$line13Ref","$f1dc4890c6a9e02c$var$line2Ref","$f1dc4890c6a9e02c$var$line21Ref","$f1dc4890c6a9e02c$var$line3Ref","$f1dc4890c6a9e02c$var$p1Ref","$f1dc4890c6a9e02c$var$p2Ref","$f1dc4890c6a9e02c$var$p3Ref","$f1dc4890c6a9e02c$var$p4Ref","$f1dc4890c6a9e02c$var$p5Ref","$f1dc4890c6a9e02c$var$p6Ref","$f1dc4890c6a9e02c$var$p7Ref","$f1dc4890c6a9e02c$var$p8Ref","$f1dc4890c6a9e02c$var$p9Ref","$f1dc4890c6a9e02c$var$p10Ref","$f1dc4890c6a9e02c$var$p11Ref","$f1dc4890c6a9e02c$var$showPerson","e","$f1dc4890c6a9e02c$var$removeLine","$f1dc4890c6a9e02c$var$removePerson","getAttribute","$f1dc4890c6a9e02c$var$addPerson","defaultView","innerWidth","$8nrFW","$93effc6fc56091ad$var$options","width","borderRadius","position","distance","fontSize","timeout","$93effc6fc56091ad$var$overlay","$93effc6fc56091ad$var$filmCollection","getLocalStorage","_watchedFilms","idFilm","lastElementChild","currentFilm","filter","watchedFilms","$h6c0i","Notify","warning","addFilmtoStorage","success","_queueFilms","queueFilms","disabled","background"],"version":3,"file":"index.3fde398e.js.map"}