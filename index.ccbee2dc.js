!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){r[e]=t},t.parcelRequired7c6=a);var i,s,c,o=a("bpxeT"),u=a("2TvXO"),d=a("1h2Gi"),l=9,f=1;function m(e,t,n){s=n,function(e,t){var n=e.reduce((function(e,t){return e+'<button type="button" '.concat(t===f?'class="pagination-button pagination-button-current"':'class="pagination-button"',">").concat(t,"</button>")}),"");i>l&&(1!==f&&(n='<button type="button" class="pagination-button">&lt;</button>'+n),f!==i&&(n+='<button type="button" class="pagination-button">&gt;</button>'));t.innerHTML="",t.insertAdjacentHTML("beforeend",n)}(function(e,t){var n,r,a=[],i=Math.floor(l/2);e<1?e=1:e>t&&(e=t);t<=l?(n=1,r=t):e<=i?(n=1,r=l):e+i>=t?(n=t-2*i,r=t):(n=e-i,r=e+i);for(var s=n;s<=r;s+=1)a.push(s);l>=9&&(a.splice(0,1,1),a.splice(a.length-1,1,t),e-1>i&&t>l&&a.splice(1,1," ..."),e+1+i<t&&t>l&&a.splice(a.length-2,1,"... "));return a}(f=e,i=t),s)}function v(e){var t=e.target.textContent;return isNaN(Number(t))||(c=Number(t)),">"===t&&(c=f===i?i:f+1),"<"===t&&(c=1===f?1:f-1)," ..."===t&&(c=f-(l-4)),"... "===t&&(c=f+(l-4)),f=c}window.addEventListener("resize",(function(){var e=window.matchMedia("(min-width: 768px)").matches;l=e?9:5,m(f,i,s)}));var p,h=a("LW3sO"),y=(a("kf3wk"),a("8MBJY")),g=a("a2hTj"),L=function(){"use strict";function t(n){var r=n.selector,a=n.hidden,i=void 0===a||a;e(y)(this,t),this.refs=this.getRefs(r),i&&this.hide()}return e(g)(t,[{key:"getRefs",value:function(e){var t={};return t.spinner=document.querySelector(e),t}},{key:"show",value:function(){this.refs.spinner.classList.remove("is-hidden")}},{key:"hide",value:function(){this.refs.spinner.classList.add("is-hidden")}}]),t}(),_=a("4LMMA"),k=a("8FeKp"),b=document.querySelector(".dropdown"),w=document.querySelector(".items");b.addEventListener("click",(function(e){e.preventDefault(),b.classList.toggle("active")})),p=k.dataGenres.genres.map((function(e,t){return'<a href="#" style="--i:'.concat(t+1,'" id="').concat(e.id,'">\n           <span></span>').concat(e.name,"\n         </a>")})).join(""),w.insertAdjacentHTML("beforeend",p),(0,a("kf3wk").default)();var S,x,q,E=new(0,_.LocalStorage)("currentFilmsList"),T=new L({selector:".loading"}),F=document.querySelector(".home-gallery"),M=document.querySelector(".pagination"),A=document.querySelector("#input-toggle"),N=document.querySelector(".search-form"),j=document.querySelector(".error-text");document.querySelector("#week-btn"),document.querySelector("#today-btn");F.addEventListener("click",(function(e){var t=e.target.closest(".movies-images__item");if(!t)return;var n=Number(t.dataset.id),r=q.find((function(e){return e.id===n})),a=(0,h.getGenreByIdList)(r.genre_ids);(0,h.createMarkupModalWindow)(r,a)})),M.addEventListener("click",(function(e){return Y.apply(this,arguments)})),A.addEventListener("change",(function(e){return P.apply(this,arguments)})),w.addEventListener("click",(function(e){return K.apply(this,arguments)})),N.addEventListener("submit",(function(e){return X.apply(this,arguments)}));var D,O="",W=1,G=1,R=1,B=!1,C=!1,H=!1;function Q(){return(Q=e(o)(e(u).mark((function t(){return e(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T.show(),e.next=3,(0,d.fetchGenre)();case 3:return S=e.sent,x=S.genres,_.genresFilm.setLocalStorage(x),e.next=8,U();case 8:T.hide();case 9:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function U(){return V.apply(this,arguments)}function V(){return(V=e(o)(e(u).mark((function t(){return e(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T.show(),e.next=3,z();case 3:R=C?300:S.total_pages,q=S.results,E.setLocalStorage(q),(0,h.markupTrending)(q,F),m(G,R,M),T.hide(),window.scrollTo(0,0);case 10:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function z(){return I.apply(this,arguments)}function I(){return(I=e(o)(e(u).mark((function t(){var n;return e(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!H){e.next=12;break}return e.next=3,(0,d.fetchQuery)(O,G);case 3:if((n=e.sent).results.length){e.next=9;break}return G=W,T.hide(),J(),e.abrupt("return");case 9:S=n,e.next=28;break;case 12:if(!C){e.next=18;break}return e.next=15,(0,d.fetchMoivesByGenre)(D,G);case 15:S=e.sent,e.next=28;break;case 18:if(!B){e.next=24;break}return e.next=21,(0,d.fetchPopularDay)(G);case 21:e.t0=e.sent,e.next=27;break;case 24:return e.next=26,(0,d.fetchPopular)(G);case 26:e.t0=e.sent;case 27:S=e.t0;case 28:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function K(){return(K=e(o)(e(u).mark((function t(n){return e(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),C=!0,H=!1,D=n.target.id,G=1,e.next=7,U();case 7:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function P(){return(P=e(o)(e(u).mark((function t(n){return e(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B=n.currentTarget.checked,C=!1,H=!1,G=1,e.next=6,U();case 6:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function X(){return(X=e(o)(e(u).mark((function t(n){return e(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),O=n.target.elements.searchQuery.value.trim(),N.reset(),O){e.next=6;break}return J(),e.abrupt("return");case 6:return H=!0,C=!1,W=G,G=1,e.next=12,U();case 12:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function J(){j.style.opacity="1",setTimeout((function(){j.style.opacity="0"}),2e3)}function Y(){return(Y=e(o)(e(u).mark((function t(n){var r;return e(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("BUTTON"===n.target.nodeName){e.next=2;break}return e.abrupt("return");case 2:if(T.show(),(r=v(n))!==G){e.next=6;break}return e.abrupt("return");case 6:return G=r,e.next=9,U();case 9:T.hide();case 10:case"end":return e.stop()}}),t)})))).apply(this,arguments)}j.style.opacity="0",function(){Q.apply(this,arguments)}(),window.scrollTo(0,0),a("4LMMA"),a("475fx"),a("kf3wk");var Z=document.querySelector(".footer__link"),$=(document.querySelector(".teams_desk"),document.querySelector(".fon")),ee=document.querySelector(".line1"),te=document.querySelector(".line11"),ne=document.querySelector(".line12"),re=document.querySelector(".line13"),ae=document.querySelector(".line2"),ie=document.querySelector(".line21"),se=document.querySelector(".line3"),ce=document.querySelector("#p1"),oe=document.querySelector("#p2"),ue=document.querySelector("#p3"),de=document.querySelector("#p4"),le=document.querySelector("#p5"),fe=document.querySelector("#p6"),me=document.querySelector("#p7"),ve=document.querySelector("#p8"),pe=document.querySelector("#p9"),he=document.querySelector("#p10"),ye=document.querySelector("#p11");function ge(e){e.preventDefault(),_e(),Le(),function(e){"t1"===e.target.getAttribute("id")&&ce.classList.add("teams_desk_active");"t2"===e.target.getAttribute("id")&&oe.classList.add("teams_desk_active");"t3"===e.target.getAttribute("id")&&ue.classList.add("teams_desk_active");"t4"===e.target.getAttribute("id")&&de.classList.add("teams_desk_active");"t5"===e.target.getAttribute("id")&&le.classList.add("teams_desk_active");"t6"===e.target.getAttribute("id")&&fe.classList.add("teams_desk_active");"t7"===e.target.getAttribute("id")&&me.classList.add("teams_desk_active");"t8"===e.target.getAttribute("id")&&ve.classList.add("teams_desk_active");"t9"===e.target.getAttribute("id")&&pe.classList.add("teams_desk_active");"t10"===e.target.getAttribute("id")&&he.classList.add("teams_desk_active");"t11"===e.target.getAttribute("id")&&ye.classList.add("teams_desk_active")}(e)}function Le(){ce.classList.remove("teams_desk_active"),oe.classList.remove("teams_desk_active"),ue.classList.remove("teams_desk_active"),de.classList.remove("teams_desk_active"),le.classList.remove("teams_desk_active"),fe.classList.remove("teams_desk_active"),me.classList.remove("teams_desk_active"),ve.classList.remove("teams_desk_active"),pe.classList.remove("teams_desk_active"),he.classList.remove("teams_desk_active"),ye.classList.remove("teams_desk_active")}function _e(){ee.classList.remove("line_active"),te.classList.remove("line_active"),ne.classList.remove("line_active"),re.classList.remove("line_active"),ae.classList.remove("line_active"),ie.classList.remove("line_active"),se.classList.remove("line_active")}$.addEventListener("click",(function(e){_e(),Le(),$.classList.remove("fon_active")})),Z.addEventListener("click",(function(e){e.preventDefault(),document.defaultView.innerWidth<768&&(ee.classList.add("line_active"),te.classList.add("line_active"),ne.classList.add("line_active"),re.classList.add("line_active"));document.defaultView.innerWidth<1280&&(ae.classList.add("line_active"),ie.classList.add("line_active"));document.defaultView.innerWidth>1280&&se.classList.add("line_active");$.classList.add("fon_active")})),ee.addEventListener("click",ge),te.addEventListener("click",ge),ne.addEventListener("click",ge),re.addEventListener("click",ge),ae.addEventListener("click",ge),ie.addEventListener("click",ge),se.addEventListener("click",ge),a("8FeKp");var ke=a("8nrFW"),be=(_=a("4LMMA"),a("h6c0i")),we={width:"280px",borderRadius:"30px",position:"center-bottom",distance:"25px",fontSize:"18px",timeout:2e3},Se=document.querySelector(".js-filmInfoModal");Se.addEventListener("click",(function(t){var n=t.target;if(n.classList.contains("js-add-to-watched")||n.classList.contains("js-add-to-queue")){xe=E.getLocalStorage();var r,a=Se.lastElementChild.lastElementChild.id,i=xe.filter((function(e){return e.id==a}));if(n.classList.contains("js-add-to-watched"))if(_.watchedFilms.getLocalStorage()||_.watchedFilms.setLocalStorage(),_.watchedFilms.getLocalStorage().filter((function(e){return e.id==a})).length)be.Notify.warning("The movie has already been added to my library",we);else(r=_.watchedFilms).addFilmtoStorage.apply(r,e(ke)(i)),be.Notify.success("The movie has been added to my library",we);else if(n.classList.contains("js-add-to-queue")){var s;if(_.queueFilms.getLocalStorage()||_.queueFilms.setLocalStorage(),_.queueFilms.getLocalStorage().filter((function(e){return e.id==a})).length)be.Notify.warning("The movie has already been added to my library",we);else(s=_.queueFilms).addFilmtoStorage.apply(s,e(ke)(i)),be.Notify.success("The movie has been added to my library",we)}n.disabled="true",n.style.background="#FF7F50"}}));var xe=null;a("cDXQO"),a("iNWLi")}();
//# sourceMappingURL=index.ccbee2dc.js.map
