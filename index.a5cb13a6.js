!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){r[e]=t},t.parcelRequired7c6=a);var o,i=a("bpxeT"),c=a("2TvXO"),s=a("1h2Gi"),u=a("dAKN3"),d=a("LW3sO"),l=(a("kf3wk"),a("j1lrD")),f=a("4LMMA"),p=a("8FeKp"),m=document.querySelector(".dropdown"),h=document.querySelector(".items");m.addEventListener("click",(function(e){e.preventDefault(),m.classList.toggle("active")})),o=p.dataGenres.genres.map((function(e,t){return'<a href="#" style="--i:'.concat(t+1,'" id="').concat(e.id,'">\n           <span></span>').concat(e.name,"\n         </a>")})).join(""),h.insertAdjacentHTML("beforeend",o),(0,a("kf3wk").default)();var g,y,w,v=new(0,f.LocalStorage)("currentFilmsList"),x=new(0,l.default)({selector:".loading"}),L=document.querySelector(".home-gallery"),k=document.querySelector(".pagination"),b=document.querySelector("#input-toggle"),S=document.querySelector(".search-form"),q=document.querySelector(".error-text");document.querySelector("#week-btn"),document.querySelector("#today-btn");k.addEventListener("click",(function(e){return R.apply(this,arguments)})),b.addEventListener("change",(function(e){return B.apply(this,arguments)})),h.addEventListener("click",(function(e){return P.apply(this,arguments)})),S.addEventListener("submit",(function(e){return K.apply(this,arguments)}));var F,T="",M=1,N=1,E=1,O=!1,j=!1,D=!1;function _(){return(_=e(i)(e(c).mark((function t(){return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x.show(),e.next=3,(0,s.fetchGenre)();case 3:return g=e.sent,y=g.genres,f.genresFilm.setLocalStorage(y),e.next=8,C();case 8:x.hide();case 9:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function C(){return W.apply(this,arguments)}function W(){return(W=e(i)(e(c).mark((function t(){return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x.show(),e.next=3,A();case 3:E=j?300:g.total_pages,w=g.results,v.setLocalStorage(w),(0,d.markupTrending)(w,L),(0,u.updatePagination)(N,E,k),x.hide(),window.scrollTo(0,0);case 10:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function A(){return G.apply(this,arguments)}function G(){return(G=e(i)(e(c).mark((function t(){var n;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!D){e.next=12;break}return e.next=3,(0,s.fetchQuery)(T,N);case 3:if((n=e.sent).results.length){e.next=9;break}return N=M,x.hide(),Q(),e.abrupt("return");case 9:g=n,e.next=28;break;case 12:if(!j){e.next=18;break}return e.next=15,(0,s.fetchMoivesByGenre)(F,N);case 15:g=e.sent,e.next=28;break;case 18:if(!O){e.next=24;break}return e.next=21,(0,s.fetchPopularDay)(N);case 21:e.t0=e.sent,e.next=27;break;case 24:return e.next=26,(0,s.fetchPopular)(N);case 26:e.t0=e.sent;case 27:g=e.t0;case 28:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function P(){return(P=e(i)(e(c).mark((function t(n){return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),j=!0,D=!1,F=n.target.id,N=1,e.next=7,C();case 7:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function B(){return(B=e(i)(e(c).mark((function t(n){return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O=n.currentTarget.checked,j=!1,D=!1,N=1,e.next=6,C();case 6:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function K(){return(K=e(i)(e(c).mark((function t(n){return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),T=n.target.elements.searchQuery.value.trim(),S.reset(),T){e.next=6;break}return Q(),e.abrupt("return");case 6:return D=!0,j=!1,M=N,N=1,e.next=12,C();case 12:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function Q(){q.style.opacity="1",setTimeout((function(){q.style.opacity="0"}),2e3)}function R(){return(R=e(i)(e(c).mark((function t(n){var r;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("BUTTON"===n.target.nodeName){e.next=2;break}return e.abrupt("return");case 2:if(x.show(),(r=(0,u.getCurrentPage)(n))!==N){e.next=6;break}return e.abrupt("return");case 6:return N=r,e.next=9,C();case 9:x.hide();case 10:case"end":return e.stop()}}),t)})))).apply(this,arguments)}q.style.opacity="0",function(){_.apply(this,arguments)}(),window.scrollTo(0,0),a("4LMMA"),a("475fx"),a("kf3wk"),a("kLpTw"),a("8FeKp"),a("LW3sO");var U=a("8nrFW"),I=(f=a("4LMMA"),a("h6c0i")),X=(d=a("LW3sO"),{width:"280px",borderRadius:"30px",position:"center-bottom",distance:"25px",fontSize:"18px",timeout:2e3});L.addEventListener("click",(function(e){var t=e.target.closest(".movies-images__item");if(!t)return;Y=Number(t.dataset.id);var n=(J=v.getLocalStorage()).find((function(e){return e.id===Y})),r=(0,d.getGenreByIdList)(n.genre_ids);z=f.watchedFilms.getLocalStorage(),Z=!!z.length&&z.find((function(e){return e.id==Y})),H=f.queueFilms.getLocalStorage(),$=!!H.length&&H.find((function(e){return e.id==Y})),(0,d.createMarkupModalWindow)(n,r,Z,$)})),document.querySelector(".js-filmInfoModal").addEventListener("click",(function(t){var n=t.target;if(V=J.filter((function(e){return e.id==Y})),n.classList.contains("js-add-to-watched")||n.classList.contains("js-add-to-queue")){var r;if(n.classList.contains("js-add-to-watched"))if(Z)f.watchedFilms.deleteFilmFromStorage(V[0]),t.target.textContent="add to watched",I.Notify.success("The movie is deleted from to my library",X),Z=!1;else(r=f.watchedFilms).addFilmtoStorage.apply(r,e(U)(V)),t.target.textContent="remove from watched",I.Notify.success("The movie has been added to my library",X),Z=!0;else if(n.classList.contains("js-add-to-queue")){var a;if($)f.queueFilms.deleteFilmFromStorage(V[0]),t.target.textContent="add to queue",I.Notify.success("The movie is deleted from queue",X),$=!1;else(a=f.queueFilms).addFilmtoStorage.apply(a,e(U)(V)),t.target.textContent="remove from queue",I.Notify.success("The movie has been added to queue",X),$=!0}}}));var z,H,J,V,Y,Z=!1,$=!1;!function(){f.watchedFilms.getLocalStorage()||f.watchedFilms.setLocalStorage();f.queueFilms.getLocalStorage()||f.queueFilms.setLocalStorage()}(),a("cDXQO"),a("iNWLi")}();
//# sourceMappingURL=index.a5cb13a6.js.map
