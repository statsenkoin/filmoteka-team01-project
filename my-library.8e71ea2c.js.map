{"mappings":"gfAAAA,EAAA,S,WCAA,IAAAC,EAAAD,EAAA,S,yCAKoBE,SAASC,cAAc,iBAC/BC,iBAAiB,SAkD7B,SAAqBC,GACnB,IAAMC,EAAUD,EAAME,OAAOC,QAAQ,wBACrC,IAAKF,EAAS,OACd,IAAMG,EAAYC,OAAOJ,EAAQK,QAAQC,IACnCC,EAAOC,EAAOC,MAAK,SAAAC,G,OAAQA,EAAKJ,KAAOH,C,IACvCQ,GAAa,EAAAC,EAAAC,kBAAiBN,EAAKO,YACzC,EAAAC,EAAAC,SAAajB,IACb,EAAAa,EAAAK,yBAAwBV,EAAMI,E,IAvDhC,IAKIH,EALEU,EAAYtB,SAASC,cAAc,eACnCsB,EAAWvB,SAASC,cAAc,aAClCuB,EAAUxB,SAASC,cAAc,iBACjCwB,EAAczB,SAASC,cAAc,YA8B3C,SAASyB,IACPD,EAAYE,kBAAkBC,YAC5B,4CACFH,EAAYE,kBAAkBE,MAAMC,MAAQ,S,CAE9C,SAASC,IACPN,EAAYO,UAAUC,IAAI,kB,CAE5B,SAASC,IACPT,EAAYO,UAAUG,OAAO,kB,CAE/B,SAASC,IACPZ,EAAQa,UAAY,E,CAzCtBC,QAAQC,IAAId,EAAYE,mBAGxBL,EAAUpB,iBAAiB,SAG3B,WACEkC,KACAxB,EAASb,EAAAyC,aAAaC,oBAKpBV,KACA,EAAAf,EAAA0B,gBAAe9B,EAAQY,KAJvBU,IACAR,I,IAPJH,EAASrB,iBAAiB,SAc1B,WACEkC,KACAxB,EAASb,EAAA4C,WAAWF,oBAKlBV,KACA,EAAAf,EAAA0B,gBAAe9B,EAAQY,KAJvBU,IACAR,I","sources":["src/my-library.js","src/js/library-markup.js"],"sourcesContent":["import './js/local-storage';\nimport './js/modal-servise';\nimport './js/library-markup';\nimport './js/markups';\nimport './js/trailer';\n","import { watchedFilms, queueFilms } from './local-storage';\nimport { markupTrending } from './markups';\nimport { getGenreByIdList, createMarkupModalWindow } from './markups';\nimport modalActions from './modal-servise';\n\nconst homeGallery = document.querySelector('.home-gallery');\nhomeGallery.addEventListener('click', onCardClick);\n\nconst wachedBtn = document.querySelector('.js-watched');\nconst queueBtn = document.querySelector('.js-queue');\nconst gallery = document.querySelector('.home-gallery');\nconst defaultPage = document.querySelector('.default');\nconsole.dir(defaultPage.firstElementChild);\nlet movies;\n\nwachedBtn.addEventListener('click', onWachedBtn);\nqueueBtn.addEventListener('click', onQueueBtn);\n\nfunction onWachedBtn() {\n  clearGallery();\n  movies = watchedFilms.getLocalStorage();\n  if (!movies) {\n    showDefaultPage();\n    libraryError();\n  } else {\n    hiddenDefaultPage();\n    markupTrending(movies, gallery);\n  }\n}\n\nfunction onQueueBtn() {\n  clearGallery();\n  movies = queueFilms.getLocalStorage();\n  if (!movies) {\n    showDefaultPage();\n    libraryError();\n  } else {\n    hiddenDefaultPage();\n    markupTrending(movies, gallery);\n  }\n}\nfunction libraryError() {\n  defaultPage.firstElementChild.textContent =\n    'There are no movies in your library yet..';\n  defaultPage.firstElementChild.style.color = '#ff001b';\n}\nfunction hiddenDefaultPage() {\n  defaultPage.classList.add('visually-hidden');\n}\nfunction showDefaultPage() {\n  defaultPage.classList.remove('visually-hidden');\n}\nfunction clearGallery() {\n  gallery.innerHTML = '';\n}\n\nfunction onCardClick(event) {\n  const filmBox = event.target.closest('.movies-images__item');\n  if (!filmBox) return;\n  const filmBoxId = Number(filmBox.dataset.id);\n  const data = movies.find(film => film.id === filmBoxId);\n  const filmGenres = getGenreByIdList(data.genre_ids);\n  modalActions(event);\n  createMarkupModalWindow(data, filmGenres);\n}\n"],"names":["parcelRequire","$4LMMA","document","querySelector","addEventListener","event","filmBox","target","closest","filmBoxId","Number","dataset","id","data","$62d1563ef9474d0b$var$movies","find","film","filmGenres","$LW3sO","getGenreByIdList","genre_ids","$kf3wk","default","createMarkupModalWindow","$62d1563ef9474d0b$var$wachedBtn","$62d1563ef9474d0b$var$queueBtn","$62d1563ef9474d0b$var$gallery","$62d1563ef9474d0b$var$defaultPage","$62d1563ef9474d0b$var$libraryError","firstElementChild","textContent","style","color","$62d1563ef9474d0b$var$hiddenDefaultPage","classList","add","$62d1563ef9474d0b$var$showDefaultPage","remove","$62d1563ef9474d0b$var$clearGallery","innerHTML","console","dir","watchedFilms","getLocalStorage","markupTrending","queueFilms"],"version":3,"file":"my-library.8e71ea2c.js.map"}