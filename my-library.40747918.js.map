{"mappings":"oeAAAA,EAAA,S,WCAA,IAAAC,EAAAD,EAAA,S,yCAKoBE,SAASC,cAAc,iBAC/BC,iBAAiB,SAkD7B,SAAqBC,GACnB,MAAMC,EAAUD,EAAME,OAAOC,QAAQ,wBACrC,IAAKF,EAAS,OACd,MAAMG,EAAYC,OAAOJ,EAAQK,QAAQC,IACnCC,EAAOC,EAAOC,MAAKC,GAAQA,EAAKJ,KAAOH,IACvCQ,GAAa,EAAAC,EAAAC,kBAAiBN,EAAKO,YACzC,EAAAC,EAAAC,SAAajB,IACb,EAAAa,EAAAK,kCAAiCV,EAAMI,E,IAvDzC,MAAMO,EAAYtB,SAASC,cAAc,eACnCsB,EAAWvB,SAASC,cAAc,aAClCuB,EAAUxB,SAASC,cAAc,iBACjCwB,EAAczB,SAASC,cAAc,YAE3C,IAAIW,EA4BJ,SAASc,IACPD,EAAYE,kBAAkBC,YAAc,4CAC5CH,EAAYE,kBAAkBE,MAAMC,MAAQ,UAC5CL,EAAYE,kBAAkBE,MAAME,UAAY,yB,CAElD,SAASC,IACPP,EAAYQ,UAAUC,IAAI,kB,CAE5B,SAASC,IACPV,EAAYQ,UAAUG,OAAO,kB,CAE/B,SAASC,IACPb,EAAQc,UAAY,E,CAzCtBC,QAAQC,IAAIf,EAAYE,mBAGxBL,EAAUpB,iBAAiB,SAG3B,WACEmC,IACAzB,EAASb,EAAA0C,aAAaC,kBACjB9B,GAIHoB,KACA,EAAAhB,EAAA2B,gBAAe/B,EAAQY,KAJvBW,IACAT,I,IAPJH,EAASrB,iBAAiB,SAc1B,WACEmC,IACAzB,EAASb,EAAA6C,WAAWF,kBACf9B,GAIHoB,KACA,EAAAhB,EAAA2B,gBAAe/B,EAAQY,KAJvBW,IACAT,I","sources":["src/my-library.js","src/js/library-markup.js"],"sourcesContent":["import './js/local-storage';\nimport './js/modal-servise';\nimport './js/library-markup';\nimport './js/markups';\nimport './js/trailer';\nimport './js/btn-up';\n","import { watchedFilms, queueFilms } from './local-storage';\nimport { markupTrending, createMarkupModalWindowMyLibrary } from './markups';\nimport { getGenreByIdList, createMarkupModalWindow } from './markups';\nimport modalActions from './modal-servise';\n\nconst homeGallery = document.querySelector('.home-gallery');\nhomeGallery.addEventListener('click', onCardClick);\n\nconst wachedBtn = document.querySelector('.js-watched');\nconst queueBtn = document.querySelector('.js-queue');\nconst gallery = document.querySelector('.home-gallery');\nconst defaultPage = document.querySelector('.default');\nconsole.dir(defaultPage.firstElementChild);\nlet movies;\n\nwachedBtn.addEventListener('click', onWachedBtn);\nqueueBtn.addEventListener('click', onQueueBtn);\n\nfunction onWachedBtn() {\n  clearGallery();\n  movies = watchedFilms.getLocalStorage();\n  if (!movies) {\n    showDefaultPage();\n    libraryError();\n  } else {\n    hiddenDefaultPage();\n    markupTrending(movies, gallery);\n  }\n}\n\nfunction onQueueBtn() {\n  clearGallery();\n  movies = queueFilms.getLocalStorage();\n  if (!movies) {\n    showDefaultPage();\n    libraryError();\n  } else {\n    hiddenDefaultPage();\n    markupTrending(movies, gallery);\n  }\n}\nfunction libraryError() {\n  defaultPage.firstElementChild.textContent = 'There are no movies in your library yet..';\n  defaultPage.firstElementChild.style.color = '#ff001b';\n  defaultPage.firstElementChild.style.boxShadow = '0px 0px 9px 0px #ff001b';\n}\nfunction hiddenDefaultPage() {\n  defaultPage.classList.add('visually-hidden');\n}\nfunction showDefaultPage() {\n  defaultPage.classList.remove('visually-hidden');\n}\nfunction clearGallery() {\n  gallery.innerHTML = '';\n}\n\nfunction onCardClick(event) {\n  const filmBox = event.target.closest('.movies-images__item');\n  if (!filmBox) return;\n  const filmBoxId = Number(filmBox.dataset.id);\n  const data = movies.find(film => film.id === filmBoxId);\n  const filmGenres = getGenreByIdList(data.genre_ids);\n  modalActions(event);\n  createMarkupModalWindowMyLibrary(data, filmGenres);\n}\n"],"names":["parcelRequire","$b5rV1","document","querySelector","addEventListener","event","filmBox","target","closest","filmBoxId","Number","dataset","id","data","$ddb65353e6f828dc$var$movies","find","film","filmGenres","$fA0uA","getGenreByIdList","genre_ids","$7TcCz","default","createMarkupModalWindowMyLibrary","$ddb65353e6f828dc$var$wachedBtn","$ddb65353e6f828dc$var$queueBtn","$ddb65353e6f828dc$var$gallery","$ddb65353e6f828dc$var$defaultPage","$ddb65353e6f828dc$var$libraryError","firstElementChild","textContent","style","color","boxShadow","$ddb65353e6f828dc$var$hiddenDefaultPage","classList","add","$ddb65353e6f828dc$var$showDefaultPage","remove","$ddb65353e6f828dc$var$clearGallery","innerHTML","console","dir","watchedFilms","getLocalStorage","markupTrending","queueFilms"],"version":3,"file":"my-library.40747918.js.map"}