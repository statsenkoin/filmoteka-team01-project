{"mappings":"iiBAAA,ICKIA,EACAC,EAEAC,EDRJC,EAAAC,EAAA,S,0BCEIC,EAAW,EAEXC,EAAc,EAYX,SAASC,EAAiBC,EAAMC,EAAOC,GAC5CT,EAAiBS,EAkFnB,SAA0BC,EAAQC,GAChC,IAAIC,EAASF,EAAOG,QAAO,SAACC,EAAKC,GAK/B,OAAQD,EAAO,yBAAsCE,OAHnDD,IAASV,EACL,sDACA,4BAC4C,KAAQW,OAALD,EAAK,Y,GACxD,IACAhB,EAAaK,IACK,IAAhBC,IACFO,EACE,gEACAA,GAEAP,IAAgBN,IAClBa,GAAW,kEAIfD,EAAeM,UAAY,GAC3BN,EAAeO,mBAAmB,YAAaN,E,CAlG/CO,CA8BF,SAAkBC,EAAaC,GAC7B,IACIC,EACAC,EAFEC,EAAS,GAGTC,EAAcC,KAAKC,MAAMvB,EAAW,GAEtCgB,EAAc,EAChBA,EAAc,EACLA,EAAcC,IACvBD,EAAcC,GAGZA,GAAcjB,GAChBkB,EAAY,EACZC,EAAUF,GAEND,GAAeK,GACjBH,EAAY,EACZC,EAAUnB,GACDgB,EAAcK,GAAeJ,GACtCC,EAAYD,EAA2B,EAAdI,EACzBF,EAAUF,IAEVC,EAAYF,EAAcK,EAC1BF,EAAUH,EAAcK,GAG5B,IAAK,IAAIG,EAAIN,EAAWM,GAAKL,EAASK,GAAK,EACzCJ,EAAOK,KAAKD,GAGVxB,GAAY,IACdoB,EAAOM,OAAO,EAAG,EAAG,GACpBN,EAAOM,OAAON,EAAOO,OAAS,EAAG,EAAGV,GAChCD,EAAc,EAAIK,GAAeJ,EAAajB,GAChDoB,EAAOM,OAAO,EAAG,EAAG,QAElBV,EAAc,EAAIK,EAAcJ,GAAcA,EAAajB,GAC7DoB,EAAOM,OAAON,EAAOO,OAAS,EAAG,EAAG,SAExC,OAAOP,C,CAvEEQ,CAFT3B,EAAcE,EACdR,EAAaS,GAEYR,E,CAQpB,SAASiC,EAAeC,GAC7B,IAAMC,EAAiBD,EAAME,OAAOC,YAYpC,OAVKC,MAAMC,OAAOJ,MAAkBlC,EAAasC,OAAOJ,IACjC,MAAnBA,IACFlC,EAAaI,IAAgBN,EAAaA,EAAaM,EAAc,GAEhD,MAAnB8B,IACFlC,EAA6B,IAAhBI,EAAoB,EAAIA,EAAc,GAE9B,SAAnB8B,IAA2BlC,EAAaI,GAAeD,EAAW,IAC/C,SAAnB+B,IAA2BlC,EAAaI,GAAeD,EAAW,IACtEC,EAAcJ,C,CAiFhBuC,OAAOC,iBAAiB,UAAU,WAChC,IAAMC,EAAUF,OAAOG,WAAW,sBAAsBC,QACxDxC,EAAWsC,EAAU,EAAI,EACzBpC,EAAiBD,EAAaN,EAAYC,E,QChHpC6C,E,aCbRC,G,WAAA3C,EAAA,U,aAAe4C,EAqBb,W,sBArBmBC,EACJC,G,IAACC,EAADD,EAACC,SAAQC,EAATF,EAAWG,cAAM,IAAAD,GAAOA,E,aACjCE,KAAKC,KAAOD,KAAKE,QAAQL,GACzBE,GAAUC,KAAKG,M,iBAEnBC,IAAA,U,MAAA,SAAQP,GACJ,IAAMI,EAAO,GAEb,OADAA,EAAKI,QAAUC,SAASC,cAAcV,GAC/BI,C,IAGXG,IAAA,O,MAAA,WACIJ,KAAKC,KAAKI,QAAQG,UAAUC,OAAO,Y,IAGvCL,IAAA,O,MAAA,WACIJ,KAAKC,KAAKI,QAAQG,UAAUE,IAAI,Y,OAKtC,G,aDrBFC,EAAA7D,EAAA,SAIM8D,EAAWN,SAASC,cAAc,aAClCM,EAAQP,SAASC,cAAc,UAMrCK,EAASxB,iBAAiB,SAiB1B,SAAuB0B,GACrBA,EAAIC,iBACJH,EAASJ,UAAUQ,OAAO,S,IAjBpBxB,EAAQmB,EAAAM,WAAWC,OACtBC,KACC,SAACC,EAASC,G,MACR,0BAA4C1D,OAAlB0D,EAAQ,EAAE,UAClB1D,OAD0ByD,EAAQE,GAAG,gCACxB3D,OAAbyD,EAAQG,KAAK,kB,IAGlCC,KAAK,IAERX,EAAMhD,mBAAmB,YAAa2B,IFJxC,E,WAAAiC,WACO,IAmBHC,EACAC,EACAC,EArBSC,EAAe,IAAI,EAAAC,EAAAC,cAAa,oBACvCC,EAAc,IAAItC,EAAY,CAClCG,SAAU,aAGNoC,EAAc3B,SAASC,cAAc,iBACrC2B,EAAgB5B,SAASC,cAAc,eACvC4B,EAAS7B,SAASC,cAAc,iBAChC6B,EAAa9B,SAASC,cAAc,gBACpC8B,EAAe/B,SAASC,cAAc,eACpBD,SAASC,cAAc,aACtBD,SAASC,cAAc,cAEhD0B,EAAY7C,iBAAiB,SAgE7B,SAAqBP,GACnB,IAAMyD,EAAUzD,EAAME,OAAOwD,QAAQ,wBACrC,IAAKD,EAAS,OACd,IAAME,EAAYtD,OAAOoD,EAAQG,QAAQnB,IACnCoB,EAAOd,EAAiBe,MAAK,SAAAC,G,OAAQA,EAAKtB,KAAOkB,C,IACjDK,GAAa,EAAAC,EAAAC,kBAAiBL,EAAKM,YACzC,EAAAF,EAAAG,yBAAwBP,EAAMG,E,IArEhCX,EAAc9C,iBAAiB,S,SA8HQP,G,OAAxBqE,EAAuBC,MAAAnD,KAAAoD,U,IA7HtCjB,EAAO/C,iBAAiB,U,SAkFEP,G,OAAXwE,EAAUF,MAAAnD,KAAAoD,U,IAjFzBvC,EAAMzB,iBAAiB,S,SAuEK0B,G,OAAbwC,EAAYH,MAAAnD,KAAAoD,U,IAtE3BhB,EAAWhD,iBAAiB,U,SAkGA0B,G,OAAbyC,EAAYJ,MAAAnD,KAAAoD,U,IA7F3B,IAIII,EAJAC,EAAc,GACdC,EAAW,EACXC,EAAc,EACdC,EAAa,EAEbC,GAAiB,EACjBC,GAAiB,EACjBC,GAAkB,E,SAMPC,I,OAAAA,EAAfC,EAAApH,EAAA,CAAAoH,EAAAC,GAAAC,MAAA,SAAAC,I,yEACEpC,EAAYqC,O,UACa,EAAAC,EAAAC,c,cAAzB7C,EAAgB8C,EAAAC,KAChB9C,EAAgBD,EAAiBR,OACjCY,EAAA4C,WAAWC,gBAAgBhD,G,SACrBiD,I,OACN5C,EAAY7B,O,4CANYgD,MAAAnD,KAAAoD,U,UASXwB,I,OAAAC,EAAa1B,MAAAnD,KAAAoD,U,UAAbyB,I,OAAAA,EAAfZ,EAAApH,EAAA,CAAAoH,EAAAC,GAAAC,MAAA,SAAAC,I,yEACEpC,EAAYqC,O,SACNS,I,OAENlB,EAAaE,EAAiB,IAAMpC,EAAiBqD,YAErDnD,EAAmBF,EAAiBsD,QACpCnD,EAAa8C,gBAAgB/C,IAC7B,EAAAkB,EAAAmC,gBAAerD,EAAkBK,GACjChF,EAAiB0G,EAAaC,EAAY1B,GAC1CF,EAAY7B,OACZhB,OAAO+F,SAAS,EAAG,G,6CAXO/B,MAAAnD,KAAAoD,U,UAcb0B,I,OAAAK,EAAiBhC,MAAAnD,KAAAoD,U,UAAjB+B,I,OAAAA,EAAflB,EAAApH,EAAA,CAAAoH,EAAAC,GAAAC,MAAA,SAAAC,I,IAEUgB,E,sEADJrB,EAAe,C,iCACY,EAAAO,EAAAe,YAAW5B,EAAaE,G,WAA/CyB,EAAcZ,EAAAC,MACAO,QAAQtG,OAAM,C,sBAChCiF,EAAcD,EACd1B,EAAY7B,OACZmF,I,0BAGF5D,EAAmB0D,E,4BACVtB,EAAc,C,kCACE,EAAAQ,EAAAiB,oBAAmB/B,EAASG,G,QAArDjC,EAAgB8C,EAAAC,K,4BAEGZ,EAAc,C,kCACvB,EAAAS,EAAAkB,iBAAgB7B,G,8DAChB,EAAAW,EAAAmB,cAAa9B,G,4BAFvBjC,EAAgB8C,EAAAkB,G,6CAbYvC,MAAAnD,KAAAoD,U,UA6BjBE,I,OAAAA,EAAfW,EAAApH,EAAA,CAAAoH,EAAAC,GAAAC,MAAA,SAAAC,EAA4BtD,G,yEAC1BA,EAAIC,iBACJ+C,GAAiB,EACjBC,GAAkB,EAClBP,EAAU1C,EAAI/B,OAAOuC,GACrBqC,EAAc,E,SACRiB,I,4CANmBzB,MAAAnD,KAAAoD,U,UAUZC,I,OAAAA,EAAfY,EAAApH,EAAA,CAAAoH,EAAAC,GAAAC,MAAA,SAAAC,EAA0BvF,G,yEACxBgF,EAAiBhF,EAAM8G,cAAcC,QACrC9B,GAAiB,EACjBC,GAAkB,EAClBJ,EAAc,E,SAURiB,I,4CAdiBzB,MAAAnD,KAAAoD,U,UAkBVG,I,OAAAA,EAAfU,EAAApH,EAAA,CAAAoH,EAAAC,GAAAC,MAAA,SAAAC,EAA4BtD,G,qEAC1BA,EAAIC,iBACJ0C,EAAc3C,EAAI/B,OAAO8G,SAASC,YAAYC,MAAMC,OACpD5D,EAAW6D,QACNxC,EAAW,C,sBACd6B,I,iCAGFvB,GAAkB,EAClBD,GAAiB,EACjBJ,EAAWC,EACXA,EAAc,E,UACRiB,I,6CAZmBzB,MAAAnD,KAAAoD,U,CAc3B,SAASkC,IACPjD,EAAa6D,MAAMC,QAAU,IAI7BC,YAAW,WACT/D,EAAa6D,MAAMC,QAAU,G,GAC5B,I,UAIUjD,I,OAAAA,EAAfe,EAAApH,EAAA,CAAAoH,EAAAC,GAAAC,MAAA,SAAAC,EAAuCvF,G,IAG/BwH,E,qEAFwB,WAA1BxH,EAAME,OAAOuH,SAAqB,C,mDACtCtE,EAAYqC,QACNgC,EAAazH,EAAeC,MACf8E,EAAW,C,uDAC9BA,EAAc0C,E,SACRzB,I,OAEN5C,EAAY7B,O,6CARwBgD,MAAAnD,KAAAoD,U,CA9GtCf,EAAa6D,MAAMC,QAAU,I,WAKdnC,EAAWb,MAAAnD,KAAAoD,U,CAH1BmD,GACApH,OAAO+F,SAAS,EAAG,G,iCIpDnB,IAAMsB,EAAclG,SAASC,cAAc,iBAErCkG,GADYnG,SAASC,cAAc,eACxBD,SAASC,cAAc,SAElCmG,GAAWpG,SAASC,cAAc,UAClCoG,GAAYrG,SAASC,cAAc,WACnCqG,GAAYtG,SAASC,cAAc,WACnCsG,GAAYvG,SAASC,cAAc,WACnCuG,GAAWxG,SAASC,cAAc,UAClCwG,GAAYzG,SAASC,cAAc,WACnCyG,GAAW1G,SAASC,cAAc,UAElC0G,GAAQ3G,SAASC,cAAc,OAC/B2G,GAAQ5G,SAASC,cAAc,OAC/B4G,GAAQ7G,SAASC,cAAc,OAC/B6G,GAAQ9G,SAASC,cAAc,OAC/B8G,GAAQ/G,SAASC,cAAc,OAC/B+G,GAAQhH,SAASC,cAAc,OAC/BgH,GAAQjH,SAASC,cAAc,OAC/BiH,GAAQlH,SAASC,cAAc,OAC/BkH,GAAQnH,SAASC,cAAc,OAC/BmH,GAASpH,SAASC,cAAc,QAChCoH,GAASrH,SAASC,cAAc,QAoCtC,SAASqH,GAAWC,GAChBA,EAAE9G,iBACF+G,KACAC,KAUJ,SAAmBF,GACmB,OAAhCA,EAAE9I,OAAOiJ,aAAa,OACxBf,GAAMzG,UAAUE,IAAI,qBACc,OAAhCmH,EAAE9I,OAAOiJ,aAAa,OACxBd,GAAM1G,UAAUE,IAAI,qBACc,OAAhCmH,EAAE9I,OAAOiJ,aAAa,OACxBb,GAAM3G,UAAUE,IAAI,qBACc,OAAhCmH,EAAE9I,OAAOiJ,aAAa,OACxBZ,GAAM5G,UAAUE,IAAI,qBACc,OAAhCmH,EAAE9I,OAAOiJ,aAAa,OACxBX,GAAM7G,UAAUE,IAAI,qBACc,OAAhCmH,EAAE9I,OAAOiJ,aAAa,OACxBV,GAAM9G,UAAUE,IAAI,qBACc,OAAhCmH,EAAE9I,OAAOiJ,aAAa,OACxBT,GAAM/G,UAAUE,IAAI,qBACc,OAAhCmH,EAAE9I,OAAOiJ,aAAa,OACxBR,GAAMhH,UAAUE,IAAI,qBACc,OAAhCmH,EAAE9I,OAAOiJ,aAAa,OACxBP,GAAMjH,UAAUE,IAAI,qBACc,QAAhCmH,EAAE9I,OAAOiJ,aAAa,OACxBN,GAAOlH,UAAUE,IAAI,qBACa,QAAhCmH,EAAE9I,OAAOiJ,aAAa,OACxBL,GAAOnH,UAAUE,IAAI,oB,CA/BrBuH,CAAUJ,E,CAkCd,SAASE,KACPd,GAAMzG,UAAUC,OAAO,qBACvByG,GAAM1G,UAAUC,OAAO,qBACvB0G,GAAM3G,UAAUC,OAAO,qBACvB2G,GAAM5G,UAAUC,OAAO,qBACvB4G,GAAM7G,UAAUC,OAAO,qBACvB6G,GAAM9G,UAAUC,OAAO,qBACvB8G,GAAM/G,UAAUC,OAAO,qBACvB+G,GAAMhH,UAAUC,OAAO,qBACvBgH,GAAMjH,UAAUC,OAAO,qBACvBiH,GAAOlH,UAAUC,OAAO,qBACxBkH,GAAOnH,UAAUC,OAAO,oB,CAG1B,SAASqH,KACLpB,GAASlG,UAAUC,OAAO,eAC1BkG,GAAUnG,UAAUC,OAAO,eAC3BmG,GAAUpG,UAAUC,OAAO,eAC3BoG,GAAUrG,UAAUC,OAAO,eAC3BqG,GAAStG,UAAUC,OAAO,eAC1BsG,GAAUvG,UAAUC,OAAO,eAC3BuG,GAASxG,UAAUC,OAAO,c,CA7F9BgG,EAASrH,iBAAiB,SAyC1B,SAAeyI,GACXC,KACAC,KACAtB,EAASjG,UAAUC,OAAO,a,IA3C9B+F,EAAYpH,iBAAiB,SAY7B,SAAgByI,GACZA,EAAE9G,iBACET,SAAS4H,YAAYC,WAAa,MAClCzB,GAASlG,UAAUE,IAAI,eACvBiG,GAAUnG,UAAUE,IAAI,eACxBkG,GAAUpG,UAAUE,IAAI,eACxBmG,GAAUrG,UAAUE,IAAI,gBAGxBJ,SAAS4H,YAAYC,WAAa,OAClCrB,GAAStG,UAAUE,IAAI,eACvBqG,GAAUvG,UAAUE,IAAI,gBAGxBJ,SAAS4H,YAAYC,WAAa,MAClCnB,GAASxG,UAAUE,IAAI,eAG3B+F,EAASjG,UAAUE,IAAI,a,IA5B3BgG,GAAStH,iBAAiB,QAASwI,IACnCjB,GAAUvH,iBAAiB,QAASwI,IACpChB,GAAUxH,iBAAiB,QAASwI,IACpCf,GAAUzH,iBAAiB,QAASwI,IACpCd,GAAS1H,iBAAiB,QAASwI,IACnCb,GAAU3H,iBAAiB,QAASwI,IACpCZ,GAAS5H,iBAAiB,QAASwI,I,WCjCnC,IAAAQ,GAAAtL,EAAA,S,6BAKMuL,GAAU,CACdC,MAAO,QACPC,aAAc,OACdC,SAAU,gBACVC,SAAU,OACVC,SAAU,OACVC,QAAS,KAGLC,GAAUtI,SAASC,cAAc,qBAEvCqI,GAAQxJ,iBAAiB,SAGzB,SAAqBP,GACnB,IAAMuC,EAAUvC,EAAME,OAEtB,GACEqC,EAAQZ,UAAUqI,SAAS,sBAC3BzH,EAAQZ,UAAUqI,SAAS,mBAC3B,CACAC,GAAiBjH,EAAakH,kBAE9B,IAcIC,EAdEC,EAASL,GAAQM,iBAAiBA,iBAAiB5H,GAEnD6H,EAAcL,GAAeM,QAAO,SAAAxG,G,OAAQA,EAAKtB,IAAM2H,C,IAE7D,GAAI7H,EAAQZ,UAAUqI,SAAS,qBAO7B,GANK/G,EAAAuH,aAAaN,mBAChBjH,EAAAuH,aAAa1E,kBAEE7C,EAAAuH,aAAaN,kBACAK,QAAO,SAAA1L,G,OAAQA,EAAK4D,IAAM2H,C,IAEvCvK,OACf4K,GAAAC,OAAOC,QAAQ,iDAAkDnB,SAEjEW,EAAAlH,EAAAuH,cAAaI,iBAAbtG,MAAA6F,EAA8B/E,EAAAmE,GAAA,CAAGe,IACjCG,GAAAC,OAAOG,QAAQ,yCAA0CrB,SAEtD,GAAIjH,EAAQZ,UAAUqI,SAAS,mBAAoB,CAIxD,IAOEc,EAHF,GAPK7H,EAAA8H,WAAWb,mBACdjH,EAAA8H,WAAWjF,kBAEI7C,EAAA8H,WAAWb,kBAEEK,QAAO,SAAA1L,G,OAAQA,EAAK4D,IAAM2H,C,IAEvCvK,OACf4K,GAAAC,OAAOC,QAAQ,iDAAkDnB,SAEjEsB,EAAA7H,EAAA8H,YAAWH,iBAAXtG,MAAAwG,EAA4B1F,EAAAmE,GAAA,CAAGe,IAC/BG,GAAAC,OAAOG,QAAQ,yCAA0CrB,G,CAG7DjH,EAAQyI,SAAW,OACnBzI,EAAQ8E,MAAM4D,WAAa,S,KA5C/B,IAAIhB,GAAiB,K","sources":["src/js/filmoteka.js","src/js/custom-pagination.js","src/js/genres-btn.js","src/js/spinner.js","src/js/modal-teams.js","src/js/library.js"],"sourcesContent":["import {\n  fetchPopular,\n  fetchPopularDay,\n  fetchGenre,\n  fetchMoivesByGenre,\n  fetchQuery,\n} from './api-service';\nimport { updatePagination, getCurrentPage } from './custom-pagination';\nimport {\n  markupTrending,\n  getGenreByIdList,\n  createMarkupModalWindow,\n} from './markups';\nimport modalActions from './modal-servise';\nimport LoadSpinner from './spinner';\nimport { genresFilm, LocalStorage } from './local-storage';\nimport { items } from './genres-btn';\nimport modalActions from './modal-servise';\nmodalActions();\nexport const popularFilms = new LocalStorage('currentFilmsList');\nconst loadSpinner = new LoadSpinner({\n  selector: '.loading',\n});\n\nconst homeGallery = document.querySelector('.home-gallery');\nconst paginationRef = document.querySelector('.pagination');\nconst toggle = document.querySelector('#input-toggle');\nconst searchForm = document.querySelector('.search-form');\nconst errorMessage = document.querySelector('.error-text');\nconst weekFalseButton = document.querySelector('#week-btn');\nconst todayFalseButton = document.querySelector('#today-btn');\n\nhomeGallery.addEventListener('click', onCardClick);\npaginationRef.addEventListener('click', onPaginationButtonClick);\ntoggle.addEventListener('change', onCheckBox);\nitems.addEventListener('click', onGanreClick);\nsearchForm.addEventListener('submit', onSearchForm);\n\nlet receivedFilmList;\nlet currentGenres;\nlet currentFilmsList;\nlet searchQuery = '';\nlet tempPage = 1;\nlet currentPage = 1;\nlet totalPages = 1;\nlet genreId;\nlet isTodayChecked = false;\nlet isGenreChoosen = false;\nlet isSearchChoosen = false;\nerrorMessage.style.opacity = '0';\n\ninitGallery();\nwindow.scrollTo(0, 0);\n\nasync function initGallery() {\n  loadSpinner.show();\n  receivedFilmList = await fetchGenre();\n  currentGenres = receivedFilmList.genres;\n  genresFilm.setLocalStorage(currentGenres);\n  await updateGallery();\n  loadSpinner.hide();\n}\n\nasync function updateGallery() {\n  loadSpinner.show();\n  await chooseSearchQuery();\n  // ======================================================\n  totalPages = isGenreChoosen ? 300 : receivedFilmList.total_pages;\n  // ======================================================\n  currentFilmsList = receivedFilmList.results;\n  popularFilms.setLocalStorage(currentFilmsList);\n  markupTrending(currentFilmsList, homeGallery);\n  updatePagination(currentPage, totalPages, paginationRef);\n  loadSpinner.hide();\n  window.scrollTo(0, 0);\n}\n\nasync function chooseSearchQuery() {\n  if (isSearchChoosen) {\n    const searchFilmList = await fetchQuery(searchQuery, currentPage);\n    if (!searchFilmList.results.length) {\n      currentPage = tempPage;\n      loadSpinner.hide();\n      warningMessage();\n      return;\n    }\n    receivedFilmList = searchFilmList;\n  } else if (isGenreChoosen) {\n    receivedFilmList = await fetchMoivesByGenre(genreId, currentPage);\n  } else {\n    receivedFilmList = isTodayChecked\n      ? await fetchPopularDay(currentPage)\n      : await fetchPopular(currentPage);\n  }\n}\n\nfunction onCardClick(event) {\n  const filmBox = event.target.closest('.movies-images__item');\n  if (!filmBox) return;\n  const filmBoxId = Number(filmBox.dataset.id);\n  const data = currentFilmsList.find(film => film.id === filmBoxId);\n  const filmGenres = getGenreByIdList(data.genre_ids);\n  createMarkupModalWindow(data, filmGenres);\n}\n\n// ===== button genres ===============================\nasync function onGanreClick(evt) {\n  evt.preventDefault();\n  isGenreChoosen = true;\n  isSearchChoosen = false;\n  genreId = evt.target.id;\n  currentPage = 1;\n  await updateGallery();\n}\n\n// ===== checkBox week/today ========================\nasync function onCheckBox(event) {\n  isTodayChecked = event.currentTarget.checked;\n  isGenreChoosen = false;\n  isSearchChoosen = false;\n  currentPage = 1;\n\n  // if (isTodayChecked) {\n  //   todayFalseButton.classList.add('line-after');\n  //   weekFalseButton.classList.remove('line-after');\n  // } else {\n  //   todayFalseButton.classList.remove('line-after');\n  //   weekFalseButton.classList.add('line-after');\n  // }\n\n  await updateGallery();\n}\n\n// ===== search input =================================\nasync function onSearchForm(evt) {\n  evt.preventDefault();\n  searchQuery = evt.target.elements.searchQuery.value.trim();\n  searchForm.reset();\n  if (!searchQuery) {\n    warningMessage();\n    return;\n  }\n  isSearchChoosen = true;\n  isGenreChoosen = false;\n  tempPage = currentPage;\n  currentPage = 1;\n  await updateGallery();\n}\nfunction warningMessage() {\n  errorMessage.style.opacity = '1';\n  timeoutRemoveErrorMessage();\n}\nfunction timeoutRemoveErrorMessage() {\n  setTimeout(() => {\n    errorMessage.style.opacity = '0';\n  }, 2000);\n}\n\n// ===== pagination =====================================\nasync function onPaginationButtonClick(event) {\n  if (event.target.nodeName !== 'BUTTON') return;\n  loadSpinner.show();\n  const targetPage = getCurrentPage(event);\n  if (targetPage === currentPage) return;\n  currentPage = targetPage;\n  await updateGallery();\n  // window.scrollTo(0, 0);\n  loadSpinner.hide();\n}\n","// https://jasonwatmore.com/post/2018/08/07/javascript-pure-pagination-logic-in-vanilla-js-typescript\n\nlet maxPages = 9; //maximum number of page navigation links to display\nlet output;\nlet currentPage = 1;\nlet totalPages;\nlet paginationElem;\n\nlet targetPage;\n\n/**\n * to export - marking up pagination line\n * @param {Number} page - the current active page\n * @param {Number} pages - the total number of pages\n * @param {DOM element} paginationRef - where to put pagination line\n */\nexport function updatePagination(page, pages, paginationRef) {\n  paginationElem = paginationRef;\n  currentPage = page;\n  totalPages = pages;\n  output = paginate(currentPage, totalPages);\n  markupPagination(output, paginationElem);\n}\n\n/**\n *\n * @param {event} event click on button element\n * @returns currentPage\n */\nexport function getCurrentPage(event) {\n  const targetPageText = event.target.textContent;\n\n  if (!isNaN(Number(targetPageText))) targetPage = Number(targetPageText);\n  if (targetPageText === '>') {\n    targetPage = currentPage === totalPages ? totalPages : currentPage + 1;\n  }\n  if (targetPageText === '<') {\n    targetPage = currentPage === 1 ? 1 : currentPage - 1;\n  }\n  if (targetPageText === ' ...') targetPage = currentPage - (maxPages - 4);\n  if (targetPageText === '... ') targetPage = currentPage + (maxPages - 4);\n  currentPage = targetPage;\n  return currentPage;\n}\n\n/**\n *\n * @param {Number} currentPage - the current active page\n * @param {Number} totalPages - the total number of pages\n * @returns {Array} of text content for buttons in pagination line\n */\nfunction paginate(currentPage, totalPages) {\n  const output = [];\n  let startPage;\n  let endPage;\n  const offsetPages = Math.floor(maxPages / 2);\n\n  if (currentPage < 1) {\n    currentPage = 1;\n  } else if (currentPage > totalPages) {\n    currentPage = totalPages;\n  }\n\n  if (totalPages <= maxPages) {\n    startPage = 1;\n    endPage = totalPages;\n  } else {\n    if (currentPage <= offsetPages) {\n      startPage = 1;\n      endPage = maxPages;\n    } else if (currentPage + offsetPages >= totalPages) {\n      startPage = totalPages - offsetPages * 2;\n      endPage = totalPages;\n    } else {\n      startPage = currentPage - offsetPages;\n      endPage = currentPage + offsetPages;\n    }\n  }\n  for (let i = startPage; i <= endPage; i += 1) {\n    output.push(i);\n  }\n\n  if (maxPages >= 9) {\n    output.splice(0, 1, 1);\n    output.splice(output.length - 1, 1, totalPages);\n    if (currentPage - 1 > offsetPages && totalPages > maxPages) {\n      output.splice(1, 1, ' ...');\n    }\n    if (currentPage + 1 + offsetPages < totalPages && totalPages > maxPages)\n      output.splice(output.length - 2, 1, '... ');\n  }\n  return output;\n}\n\n/**\n * marking up pagination line\n * @param {Array} output - text content for buttons in pagination line output\n * @param {DOM element} paginationElem - where to put pagination line\n */\nfunction markupPagination(output, paginationElem) {\n  let markup = output.reduce((acc, item) => {\n    const pagiClass =\n      item === currentPage\n        ? 'class=\"pagination-button pagination-button-current\"'\n        : 'class=\"pagination-button\"';\n    return (acc += `<button type=\"button\" ${pagiClass}>${item}</button>`);\n  }, ``);\n  if (totalPages > maxPages) {\n    if (currentPage !== 1) {\n      markup =\n        `<button type=\"button\" class=\"pagination-button\">&lt;</button>` +\n        markup;\n    }\n    if (currentPage !== totalPages) {\n      markup += `<button type=\"button\" class=\"pagination-button\">&gt;</button>`;\n    }\n  }\n\n  paginationElem.innerHTML = '';\n  paginationElem.insertAdjacentHTML('beforeend', markup);\n}\n\nwindow.addEventListener('resize', () => {\n  const isMatch = window.matchMedia('(min-width: 768px)').matches;\n  maxPages = isMatch ? 9 : 5;\n  updatePagination(currentPage, totalPages, paginationElem);\n});\n","import { dataGenres } from './test';\n// import { fetchMoivesByGenre } from './api-service';\n// import { markupTrending } from './markups';\n\nconst dropdown = document.querySelector('.dropdown');\nconst items = document.querySelector('.items');\n// const homeGallery = document.querySelector('.home-gallery');\n\n// =====================================\nexport { items };\n// =====================================\ndropdown.addEventListener('click', onButtonClick);\nfunction btnGenres() {\n  const liArr = dataGenres.genres\n    .map(\n      (element, index) =>\n        `<a href=\"#\" style=\"--i:${index + 1}\" id=\"${element.id}\">\n           <span></span>${element.name}\n         </a>`\n    )\n    .join('');\n\n  items.insertAdjacentHTML('beforeend', liArr);\n}\n\n// items.addEventListener('click', onGanreClick);\nbtnGenres();\n\nfunction onButtonClick(evt) {\n  evt.preventDefault();\n  dropdown.classList.toggle('active');\n}\n\n// async function onGanreClick(evt) {\n//   evt.preventDefault();\n\n//   const arrMovies = await fetchMoivesByGenre(evt.target.id, 1);\n//   markupTrending(arrMovies.results, homeGallery);\n// }\n","export default class LoadSpinner {\n    constructor ({selector, hidden = true}) {\n        this.refs = this.getRefs(selector);\n        hidden && this.hide();\n    }\n    getRefs(selector) {\n        const refs = {};\n        refs.spinner = document.querySelector(selector);\n        return refs;\n    }\n\n    show() {\n        this.refs.spinner.classList.remove('is-hidden');\n    }\n\n    hide() {\n        this.refs.spinner.classList.add('is-hidden');\n    }\n}\n\n\n// import LoadSpinner from './spinner';\n// const loadSpinner = new LoadSpinner({selector: '.loading',});\n\n// loadSpinner.show();\n// loadSpinner.hide();","const studentsRef = document.querySelector('.footer__link');\nconst teamsDesk = document.querySelector('.teams_desk');\nconst fonTeams = document.querySelector('.fon');\n\nconst line1Ref = document.querySelector('.line1');\nconst line11Ref = document.querySelector('.line11');\nconst line12Ref = document.querySelector('.line12');\nconst line13Ref = document.querySelector('.line13');\nconst line2Ref = document.querySelector('.line2');\nconst line21Ref = document.querySelector('.line21');\nconst line3Ref = document.querySelector('.line3');\n\nconst p1Ref = document.querySelector('#p1');\nconst p2Ref = document.querySelector('#p2');\nconst p3Ref = document.querySelector('#p3');\nconst p4Ref = document.querySelector('#p4');\nconst p5Ref = document.querySelector('#p5');\nconst p6Ref = document.querySelector('#p6');\nconst p7Ref = document.querySelector('#p7');\nconst p8Ref = document.querySelector('#p8');\nconst p9Ref = document.querySelector('#p9');\nconst p10Ref = document.querySelector('#p10');\nconst p11Ref = document.querySelector('#p11');\n\nfonTeams.addEventListener('click', close);\nstudentsRef.addEventListener('click', slider);\n\nline1Ref.addEventListener('click', showPerson)\nline11Ref.addEventListener('click', showPerson);\nline12Ref.addEventListener('click', showPerson);\nline13Ref.addEventListener('click', showPerson);\nline2Ref.addEventListener('click', showPerson);\nline21Ref.addEventListener('click', showPerson);\nline3Ref.addEventListener('click', showPerson);\n\n\n\nfunction slider(e) {\n    e.preventDefault();\n    if (document.defaultView.innerWidth < 768) {\n        line1Ref.classList.add('line_active');\n        line11Ref.classList.add('line_active');\n        line12Ref.classList.add('line_active');\n        line13Ref.classList.add('line_active');\n    }\n\n    if (document.defaultView.innerWidth < 1280) {\n        line2Ref.classList.add('line_active');\n        line21Ref.classList.add('line_active');\n    }\n\n    if (document.defaultView.innerWidth > 1280) {\n        line3Ref.classList.add('line_active')\n    }\n\n    fonTeams.classList.add('fon_active');\n}\n\nfunction showPerson(e) {\n    e.preventDefault();\n    removeLine();\n    removePerson();\n    addPerson(e);\n}\n\nfunction close(e) {\n    removeLine();\n    removePerson();\n    fonTeams.classList.remove('fon_active');\n}\n\nfunction addPerson(e) {\n  if (e.target.getAttribute('id') === 't1')\n    p1Ref.classList.add('teams_desk_active');\n  if (e.target.getAttribute('id') === 't2')\n    p2Ref.classList.add('teams_desk_active');\n  if (e.target.getAttribute('id') === 't3')\n    p3Ref.classList.add('teams_desk_active');\n  if (e.target.getAttribute('id') === 't4')\n    p4Ref.classList.add('teams_desk_active');\n  if (e.target.getAttribute('id') === 't5')\n    p5Ref.classList.add('teams_desk_active');\n  if (e.target.getAttribute('id') === 't6')\n    p6Ref.classList.add('teams_desk_active');\n  if (e.target.getAttribute('id') === 't7')\n    p7Ref.classList.add('teams_desk_active');\n  if (e.target.getAttribute('id') === 't8')\n    p8Ref.classList.add('teams_desk_active');\n  if (e.target.getAttribute('id') === 't9')\n    p9Ref.classList.add('teams_desk_active');\n  if (e.target.getAttribute('id') === 't10')\n    p10Ref.classList.add('teams_desk_active');\n  if (e.target.getAttribute('id') === 't11')\n    p11Ref.classList.add('teams_desk_active');\n}\n\nfunction removePerson() {\n  p1Ref.classList.remove('teams_desk_active');\n  p2Ref.classList.remove('teams_desk_active');\n  p3Ref.classList.remove('teams_desk_active');\n  p4Ref.classList.remove('teams_desk_active');\n  p5Ref.classList.remove('teams_desk_active');\n  p6Ref.classList.remove('teams_desk_active');\n  p7Ref.classList.remove('teams_desk_active');\n  p8Ref.classList.remove('teams_desk_active');\n  p9Ref.classList.remove('teams_desk_active');\n  p10Ref.classList.remove('teams_desk_active');\n  p11Ref.classList.remove('teams_desk_active');\n}\n\nfunction removeLine(){\n    line1Ref.classList.remove('line_active');\n    line11Ref.classList.remove('line_active');\n    line12Ref.classList.remove('line_active');\n    line13Ref.classList.remove('line_active');\n    line2Ref.classList.remove('line_active');\n    line21Ref.classList.remove('line_active');\n    line3Ref.classList.remove('line_active');\n}","import { watchedFilms, queueFilms } from './local-storage';\nimport { popularFilms } from './filmoteka';\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\n\n//options for notiflix\nconst options = {\n  width: '280px',\n  borderRadius: '30px',\n  position: 'center-bottom',\n  distance: '25px',\n  fontSize: '18px',\n  timeout: 2000,\n};\n\nconst overlay = document.querySelector('.js-filmInfoModal');\n\noverlay.addEventListener('click', onWathedBtn);\nlet filmCollection = null;\n\nfunction onWathedBtn(event) {\n  const element = event.target;\n\n  if (\n    element.classList.contains('js-add-to-watched') ||\n    element.classList.contains('js-add-to-queue')\n  ) {\n    filmCollection = popularFilms.getLocalStorage();\n\n    const idFilm = overlay.lastElementChild.lastElementChild.id;\n\n    const currentFilm = filmCollection.filter(film => film.id == idFilm);\n\n    if (element.classList.contains('js-add-to-watched')) {\n      if (!watchedFilms.getLocalStorage()) {\n        watchedFilms.setLocalStorage();\n      }\n      const response = watchedFilms.getLocalStorage();\n      const filmIncludes = response.filter(item => item.id == idFilm);\n\n      if (filmIncludes.length) {\n        Notify.warning('The movie has already been added to my library', options);\n      } else {\n        watchedFilms.addFilmtoStorage(...currentFilm);\n        Notify.success('The movie has been added to my library', options);\n      }\n    } else if (element.classList.contains('js-add-to-queue')) {\n      if (!queueFilms.getLocalStorage()) {\n        queueFilms.setLocalStorage();\n      }\n      const response = queueFilms.getLocalStorage();\n\n      const filmIncludes = response.filter(item => item.id == idFilm);\n\n      if (filmIncludes.length) {\n        Notify.warning('The movie has already been added to my library', options);\n      } else {\n        queueFilms.addFilmtoStorage(...currentFilm);\n        Notify.success('The movie has been added to my library', options);\n      }\n    }\n    element.disabled = 'true';\n    element.style.background = '#FF7F50';\n  }\n}\n"],"names":["$9e52eebca3574f80$var$totalPages","$9e52eebca3574f80$var$paginationElem","$9e52eebca3574f80$var$targetPage","$bpxeT","parcelRequire","$9e52eebca3574f80$var$maxPages","$9e52eebca3574f80$var$currentPage","$9e52eebca3574f80$export$909ec5aabce1b1f7","page","pages","paginationRef","output2","paginationElem1","markup","reduce","acc","item","concat","innerHTML","insertAdjacentHTML","$9e52eebca3574f80$var$markupPagination","currentPage1","totalPages1","startPage","endPage","output1","offsetPages","Math","floor","i","push","splice","length","$9e52eebca3574f80$var$paginate","$9e52eebca3574f80$export$7945ba8eb1c827e6","event","targetPageText","target","textContent","isNaN","Number","window","addEventListener","isMatch","matchMedia","matches","liArr","$8MBJY","$dd8ebecfaae47a78$export$2e2bcd8739ae039","LoadSpinner","param","selector","_hidden","hidden","this","refs","getRefs","hide","key","spinner","document","querySelector","classList","remove","add","$8FeKp","$bee214a113ebdbaf$var$dropdown","$bee214a113ebdbaf$export$17a1664ed1fb5d6f","evt","preventDefault","toggle","dataGenres","genres","map","element","index","id","name","join","default","$0d1473df3547cfcd$var$receivedFilmList","$0d1473df3547cfcd$var$currentGenres","$0d1473df3547cfcd$var$currentFilmsList","$0d1473df3547cfcd$export$882ffcee72083d19","$4LMMA","LocalStorage","$0d1473df3547cfcd$var$loadSpinner","$0d1473df3547cfcd$var$homeGallery","$0d1473df3547cfcd$var$paginationRef","$0d1473df3547cfcd$var$toggle","$0d1473df3547cfcd$var$searchForm","$0d1473df3547cfcd$var$errorMessage","filmBox","closest","filmBoxId","dataset","data","find","film","filmGenres","$LW3sO","getGenreByIdList","genre_ids","createMarkupModalWindow","$0d1473df3547cfcd$var$_onPaginationButtonClick","apply","arguments","$0d1473df3547cfcd$var$_onCheckBox","$0d1473df3547cfcd$var$_onGanreClick","$0d1473df3547cfcd$var$_onSearchForm","$0d1473df3547cfcd$var$genreId","$0d1473df3547cfcd$var$searchQuery","$0d1473df3547cfcd$var$tempPage","$0d1473df3547cfcd$var$currentPage","$0d1473df3547cfcd$var$totalPages","$0d1473df3547cfcd$var$isTodayChecked","$0d1473df3547cfcd$var$isGenreChoosen","$0d1473df3547cfcd$var$isSearchChoosen","$0d1473df3547cfcd$var$_initGallery","$parcel$interopDefault","$2TvXO","mark","_callee","show","$1h2Gi","fetchGenre","_ctx","sent","genresFilm","setLocalStorage","$0d1473df3547cfcd$var$updateGallery","$0d1473df3547cfcd$var$_updateGallery","$0d1473df3547cfcd$var$chooseSearchQuery","total_pages","results","markupTrending","scrollTo","$0d1473df3547cfcd$var$_chooseSearchQuery","searchFilmList","fetchQuery","$0d1473df3547cfcd$var$warningMessage","fetchMoivesByGenre","fetchPopularDay","fetchPopular","t0","currentTarget","checked","elements","searchQuery","value","trim","reset","style","opacity","setTimeout","targetPage","nodeName","$0d1473df3547cfcd$var$initGallery","$f1dc4890c6a9e02c$var$studentsRef","$f1dc4890c6a9e02c$var$fonTeams","$f1dc4890c6a9e02c$var$line1Ref","$f1dc4890c6a9e02c$var$line11Ref","$f1dc4890c6a9e02c$var$line12Ref","$f1dc4890c6a9e02c$var$line13Ref","$f1dc4890c6a9e02c$var$line2Ref","$f1dc4890c6a9e02c$var$line21Ref","$f1dc4890c6a9e02c$var$line3Ref","$f1dc4890c6a9e02c$var$p1Ref","$f1dc4890c6a9e02c$var$p2Ref","$f1dc4890c6a9e02c$var$p3Ref","$f1dc4890c6a9e02c$var$p4Ref","$f1dc4890c6a9e02c$var$p5Ref","$f1dc4890c6a9e02c$var$p6Ref","$f1dc4890c6a9e02c$var$p7Ref","$f1dc4890c6a9e02c$var$p8Ref","$f1dc4890c6a9e02c$var$p9Ref","$f1dc4890c6a9e02c$var$p10Ref","$f1dc4890c6a9e02c$var$p11Ref","$f1dc4890c6a9e02c$var$showPerson","e","$f1dc4890c6a9e02c$var$removeLine","$f1dc4890c6a9e02c$var$removePerson","getAttribute","$f1dc4890c6a9e02c$var$addPerson","defaultView","innerWidth","$8nrFW","$93effc6fc56091ad$var$options","width","borderRadius","position","distance","fontSize","timeout","$93effc6fc56091ad$var$overlay","contains","$93effc6fc56091ad$var$filmCollection","getLocalStorage","_watchedFilms","idFilm","lastElementChild","currentFilm","filter","watchedFilms","$h6c0i","Notify","warning","addFilmtoStorage","success","_queueFilms","queueFilms","disabled","background"],"version":3,"file":"index.ccbee2dc.js.map"}