var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},s={},i=e.parcelRequired7c6;null==i&&((i=function(e){if(e in t)return t[e].exports;if(e in s){var i=s[e];delete s[e];var n={id:e,exports:{}};return t[e]=n,i.call(n.exports,n,n.exports),n.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){s[e]=t},e.parcelRequired7c6=i);var n=i("7me8F");let a,o,c,r,d=9,l=1;function u(e,t,s){c=s,l=e,o=t,a=function(e,t){const s=[];let i,n;const a=Math.floor(d/2);e<1?e=1:e>t&&(e=t);t<=d?(i=1,n=t):e<=a?(i=1,n=d):e+a>=t?(i=t-2*a,n=t):(i=e-a,n=e+a);for(let e=i;e<=n;e+=1)s.push(e);d>=9&&(s.splice(0,1,1),s.splice(s.length-1,1,t),e-1>a&&t>d&&s.splice(1,1," ..."),e+1+a<t&&t>d&&s.splice(s.length-2,1,"... "));return s}(l,o),function(e,t){let s=e.reduce(((e,t)=>e+`<button type="button" ${t===l?'class="pagination-button pagination-button-current"':'class="pagination-button"'}>${t}</button>`),"");o>d&&(1!==l&&(s='<button type="button" class="pagination-button">&lt;</button>'+s),l!==o&&(s+='<button type="button" class="pagination-button">&gt;</button>'));t.innerHTML="",t.insertAdjacentHTML("beforeend",s)}(a,c)}function m(e){const t=e.target.textContent;return isNaN(Number(t))||(r=Number(t)),">"===t&&(r=l===o?o:l+1),"<"===t&&(r=1===l?1:l-1)," ..."===t&&(r=l-(d-4)),"... "===t&&(r=l+(d-4)),l=r,l}window.addEventListener("resize",(()=>{const e=window.matchMedia("(min-width: 768px)").matches;d=e?9:5,u(l,o,c)}));var g=i("fA0uA"),h=i("7TcCz");var f=i("b5rV1"),p=i("9AkgD");const v=document.querySelector(".dropdown"),L=document.querySelector(".items");v.addEventListener("click",(function(e){e.preventDefault(),v.classList.toggle("active")})),function(){const e=p.dataGenres.genres.map(((e,t)=>`<a href="#" style="--i:${t+1}" id="${e.id}">\n           <span></span>${e.name}\n         </a>`)).join("");L.insertAdjacentHTML("beforeend",e)}();const y=new(0,f.LocalStorage)("currentFilmsList"),b=new class{getRefs(e){const t={};return t.spinner=document.querySelector(e),t}show(){this.refs.spinner.classList.remove("is-hidden")}hide(){this.refs.spinner.classList.add("is-hidden")}constructor({selector:e,hidden:t=!0}){this.refs=this.getRefs(e),t&&this.hide()}}({selector:".loading"}),_=document.querySelector(".home-gallery"),w=document.querySelector(".pagination"),S=document.querySelector("#input-toggle"),k=document.querySelector(".search-form"),q=document.querySelector(".error-text");let T,E,F;_.addEventListener("click",(function(e){const t=e.target.closest(".movies-images__item");if(!t)return;const s=Number(t.dataset.id),i=F.find((e=>e.id===s)),n=(0,g.getGenreByIdList)(i.genre_ids);(0,h.default)(e),(0,g.createMarkupModalWindow)(i,n)})),w.addEventListener("click",(async function(e){if("BUTTON"!==e.target.nodeName)return;b.show();const t=m(e);if(t===D)return;D=t,await $(),window.scrollTo(0,0),b.hide()})),S.addEventListener("change",(async function(e){j=e.currentTarget.checked,C=!1,R=!1,D=1,await $()})),L.addEventListener("click",(async function(e){e.preventDefault(),C=!0,R=!1,x=e.target.id,D=1,await $()})),k.addEventListener("submit",(async function(e){if(e.preventDefault(),A=e.target.elements.searchQuery.value.trim(),k.reset(),!A)return q.style.opacity="1",void setTimeout((()=>{q.style.opacity="0"}),2e3);R=!0,C=!1,N=D,D=1,await $()}));let x,A="",N=1,D=1,M=1,j=!1,C=!1,R=!1;async function $(){b.show(),await async function(){if(R){const e=await(0,n.fetchQuery)(A,D);if(!e.results.length)return D=N,void b.hide();T=e}else T=C?await(0,n.fetchMoivesByGenre)(x,D):j?await(0,n.fetchPopularDay)(D):await(0,n.fetchPopular)(D)}(),M=C?300:T.total_pages,F=T.results,y.setLocalStorage(F),(0,g.markupTrending)(F,_),u(D,M,w),b.hide()}q.style.opacity="0",async function(){b.show(),T=await(0,n.fetchGenre)(),E=T.genres,f.genresFilm.setLocalStorage(E),await $(),b.hide()}(),i("b5rV1");({el:document.querySelector(".btn-up"),scrolling:!1,show(){this.el.classList.contains("btn-up_hide")&&!this.el.classList.contains("btn-up_hiding")&&(this.el.classList.remove("btn-up_hide"),this.el.classList.add("btn-up_hiding"),window.setTimeout((()=>{this.el.classList.remove("btn-up_hiding")}),300))},hide(){this.el.classList.contains("btn-up_hide")||this.el.classList.contains("btn-up_hiding")||(this.el.classList.add("btn-up_hiding"),window.setTimeout((()=>{this.el.classList.add("btn-up_hide"),this.el.classList.remove("btn-up_hiding")}),300))},addEventListener(){window.addEventListener("scroll",(()=>{const e=window.scrollY||document.documentElement.scrollTop;this.scrolling&&e>0||(this.scrolling=!1,e>400?this.show():this.hide())})),document.querySelector(".btn-up").onclick=()=>{this.scrolling=!0,this.hide(),window.scrollTo({top:0,left:0,behavior:"smooth"})}}}).addEventListener(),i("7TcCz");const z=document.querySelector(".footer__link"),G=document.querySelector(".box"),O=(document.querySelector(".teams_desk"),document.querySelector(".fon")),U=document.querySelector("#p1"),V=document.querySelector("#p2"),B=document.querySelector("#p3"),H=document.querySelector("#p4"),I=document.querySelector("#p5"),Q=document.querySelector("#p6"),P=document.querySelector("#p7"),W=document.querySelector("#p8"),Y=document.querySelector("#p9");function J(){U.classList.remove("teams_desk_active"),V.classList.remove("teams_desk_active"),B.classList.remove("teams_desk_active"),H.classList.remove("teams_desk_active"),I.classList.remove("teams_desk_active"),Q.classList.remove("teams_desk_active"),P.classList.remove("teams_desk_active"),W.classList.remove("teams_desk_active"),Y.classList.remove("teams_desk_active")}z.addEventListener("click",(function(e){e.preventDefault(),G.classList.toggle("box_active"),O.classList.add("fon_active")})),G.addEventListener("click",(function(e){e.preventDefault(),J(),function(e){"t1"===e.target.getAttribute("id")&&U.classList.add("teams_desk_active");"t2"===e.target.getAttribute("id")&&V.classList.add("teams_desk_active");"t3"===e.target.getAttribute("id")&&B.classList.add("teams_desk_active");"t4"===e.target.getAttribute("id")&&H.classList.add("teams_desk_active");"t5"===e.target.getAttribute("id")&&I.classList.add("teams_desk_active");"t6"===e.target.getAttribute("id")&&Q.classList.add("teams_desk_active");"t7"===e.target.getAttribute("id")&&P.classList.add("teams_desk_active");"t8"===e.target.getAttribute("id")&&W.classList.add("teams_desk_active");"t9"===e.target.getAttribute("id")&&Y.classList.add("teams_desk_active")}(e)})),O.addEventListener("click",(function(e){O.classList.toggle("fon_active"),G.classList.toggle("box_active"),J()})),i("9AkgD");f=i("b5rV1");var K=i("iQIUW");const X={width:"280px",borderRadius:"30px",position:"center-bottom",distance:"25px",fontSize:"18px",timeout:2e3},Z=document.querySelector(".js-filmInfoModal");Z.addEventListener("click",(function(e){const t=e.target;if(t.classList.contains("js-add-to-watched")||t.classList.contains("js-add-to-queue")){ee=y.getLocalStorage();const e=Z.lastElementChild.lastElementChild.id,s=ee.filter((t=>t.id==e));if(t.classList.contains("js-add-to-watched")){f.watchedFilms.getLocalStorage()||f.watchedFilms.setLocalStorage();const t=f.watchedFilms.getLocalStorage();t.filter((t=>t.id==e)).length?K.Notify.warning("The movie has already been added to my library",X):(f.watchedFilms.addFilmtoStorage(...s),K.Notify.success("The movie has been added to my library",X))}else if(t.classList.contains("js-add-to-queue")){f.queueFilms.getLocalStorage()||f.queueFilms.setLocalStorage();const t=f.queueFilms.getLocalStorage();t.filter((t=>t.id==e)).length?K.Notify.warning("The movie has already been added to my library",X):(f.queueFilms.addFilmtoStorage(...s),K.Notify.success("The movie has been added to my library",X))}t.disabled="true",t.style.background="#FF7F50"}}));let ee=null;i("37v9V");
//# sourceMappingURL=index.3422a0b5.js.map
