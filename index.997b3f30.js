!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},i=t.parcelRequired7c6;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var i={id:e,exports:{}};return n[e]=i,t.call(i.exports,i,i.exports),i.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){r[e]=t},t.parcelRequired7c6=i),i.register("kMC0W",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){if(Array.isArray(e))return r.default(e)};var n,r=(n=i("8NIkP"))&&n.__esModule?n:{default:n}})),i.register("8NIkP",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}})),i.register("7AJDX",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}})),i.register("8CtQK",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}})),i.register("auk6i",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){if(!e)return;if("string"==typeof e)return r.default(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r.default(e,t)};var n,r=(n=i("8NIkP"))&&n.__esModule?n:{default:n}}));var s,a,c,o=i("bpxeT"),u=i("2TvXO"),l=i("1h2Gi"),d=9,f=1;function v(e,t,n){a=n,function(e,t){var n=e.reduce((function(e,t){return e+'<button type="button" '.concat(t===f?'class="pagination-button pagination-button-current"':'class="pagination-button"',">").concat(t,"</button>")}),"");s>d&&(1!==f&&(n='<button type="button" class="pagination-button">&lt;</button>'+n),f!==s&&(n+='<button type="button" class="pagination-button">&gt;</button>'));t.innerHTML="",t.insertAdjacentHTML("beforeend",n)}(function(e,t){var n,r,i=[],s=Math.floor(d/2);e<1?e=1:e>t&&(e=t);t<=d?(n=1,r=t):e<=s?(n=1,r=d):e+s>=t?(n=t-2*s,r=t):(n=e-s,r=e+s);for(var a=n;a<=r;a+=1)i.push(a);d>=9&&(i.splice(0,1,1),i.splice(i.length-1,1,t),e-1>s&&t>d&&i.splice(1,1," ..."),e+1+s<t&&t>d&&i.splice(i.length-2,1,"... "));return i}(f=e,s=t),a)}function p(e){var t=e.target.textContent;return isNaN(Number(t))||(c=Number(t)),">"===t&&(c=f===s?s:f+1),"<"===t&&(c=1===f?1:f-1)," ..."===t&&(c=f-(d-4)),"... "===t&&(c=f+(d-4)),f=c}window.addEventListener("resize",(function(){var e=window.matchMedia("(min-width: 768px)").matches;d=e?9:5,v(f,s,a)}));var m,h=i("LW3sO"),_=i("kf3wk"),y=i("8MBJY"),L=i("a2hTj"),g=function(){"use strict";function t(n){var r=n.selector,i=n.hidden,s=void 0===i||i;e(y)(this,t),this.refs=this.getRefs(r),s&&this.hide()}return e(L)(t,[{key:"getRefs",value:function(e){var t={};return t.spinner=document.querySelector(e),t}},{key:"show",value:function(){this.refs.spinner.classList.remove("is-hidden")}},{key:"hide",value:function(){this.refs.spinner.classList.add("is-hidden")}}]),t}(),b=i("4LMMA"),k=i("8FeKp"),w=document.querySelector(".dropdown"),x=document.querySelector(".items");w.addEventListener("click",(function(e){e.preventDefault(),w.classList.toggle("active")})),m=k.dataGenres.genres.map((function(e,t){return'<a href="#" style="--i:'.concat(t+1,'" id="').concat(e.id,'">\n           <span></span>').concat(e.name,"\n         </a>")})).join(""),x.insertAdjacentHTML("beforeend",m);var S,q,M,E=new(0,b.LocalStorage)("currentFilmsList"),A=new g({selector:".loading"}),T=document.querySelector(".home-gallery"),j=document.querySelector(".pagination"),F=document.querySelector("#input-toggle"),N=document.querySelector(".search-form"),O=document.querySelector(".error-text");T.addEventListener("click",(function(e){var t=e.target.closest(".movies-images__item");if(!t)return;var n=Number(t.dataset.id),r=M.find((function(e){return e.id===n})),i=(0,h.getGenreByIdList)(r.genre_ids);(0,_.default)(e),(0,h.createMarkupModalWindow)(r,i)})),j.addEventListener("click",(function(e){return $.apply(this,arguments)})),F.addEventListener("change",(function(e){return J.apply(this,arguments)})),x.addEventListener("click",(function(e){return H.apply(this,arguments)})),N.addEventListener("submit",(function(e){return z.apply(this,arguments)}));var D,P="",C=1,I=1,W=1,G=!1,Q=!1,R=!1;function B(){return(B=e(o)(e(u).mark((function t(){return e(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A.show(),e.next=3,(0,l.fetchGenre)();case 3:return S=e.sent,q=S.genres,b.genresFilm.setLocalStorage(q),e.next=8,K();case 8:A.hide();case 9:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function K(){return U.apply(this,arguments)}function U(){return(U=e(o)(e(u).mark((function t(){return e(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A.show(),e.next=3,V();case 3:W=Q?300:S.total_pages,M=S.results,E.setLocalStorage(M),(0,h.markupTrending)(M,T),v(I,W,j),A.hide();case 9:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function V(){return X.apply(this,arguments)}function X(){return(X=e(o)(e(u).mark((function t(){var n;return e(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!R){e.next=12;break}return e.next=3,(0,l.fetchQuery)(P,I);case 3:if((n=e.sent).results.length){e.next=9;break}return I=C,A.hide(),Y(),e.abrupt("return");case 9:S=n,e.next=28;break;case 12:if(!Q){e.next=18;break}return e.next=15,(0,l.fetchMoivesByGenre)(D,I);case 15:S=e.sent,e.next=28;break;case 18:if(!G){e.next=24;break}return e.next=21,(0,l.fetchPopularDay)(I);case 21:e.t0=e.sent,e.next=27;break;case 24:return e.next=26,(0,l.fetchPopular)(I);case 26:e.t0=e.sent;case 27:S=e.t0;case 28:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function H(){return(H=e(o)(e(u).mark((function t(n){return e(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),Q=!0,R=!1,D=n.target.id,I=1,e.next=7,K();case 7:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function J(){return(J=e(o)(e(u).mark((function t(n){return e(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return G=n.currentTarget.checked,Q=!1,R=!1,I=1,e.next=6,K();case 6:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function z(){return(z=e(o)(e(u).mark((function t(n){return e(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),P=n.target.elements.searchQuery.value.trim(),N.reset(),P){e.next=6;break}return Y(),e.abrupt("return");case 6:return R=!0,Q=!1,C=I,I=1,e.next=12,K();case 12:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function Y(){O.style.opacity="1",setTimeout((function(){O.style.opacity="0"}),2e3)}function $(){return($=e(o)(e(u).mark((function t(n){var r;return e(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("BUTTON"===n.target.nodeName){e.next=2;break}return e.abrupt("return");case 2:if(A.show(),(r=p(n))!==I){e.next=6;break}return e.abrupt("return");case 6:return I=r,e.next=9,K();case 9:window.scrollTo(0,0),A.hide();case 11:case"end":return e.stop()}}),t)})))).apply(this,arguments)}O.style.opacity="0",function(){B.apply(this,arguments)}(),i("4LMMA"),{el:document.querySelector(".btn-up"),scrolling:!1,show:function(){if(this.el.classList.contains("btn-up_hide")&&!this.el.classList.contains("btn-up_hiding")){var e=this;this.el.classList.remove("btn-up_hide"),this.el.classList.add("btn-up_hiding"),window.setTimeout((function(){e.el.classList.remove("btn-up_hiding")}),300)}},hide:function(){if(!this.el.classList.contains("btn-up_hide")&&!this.el.classList.contains("btn-up_hiding")){var e=this;this.el.classList.add("btn-up_hiding"),window.setTimeout((function(){e.el.classList.add("btn-up_hide"),e.el.classList.remove("btn-up_hiding")}),300)}},addEventListener:function(){var e=this;window.addEventListener("scroll",(function(){var t=window.scrollY||document.documentElement.scrollTop;e.scrolling&&t>0||(e.scrolling=!1,t>400?e.show():e.hide())})),document.querySelector(".btn-up").onclick=function(){e.scrolling=!0,e.hide(),window.scrollTo({top:0,left:0,behavior:"smooth"})}}}.addEventListener(),i("kf3wk");var Z=document.querySelector(".footer__link"),ee=document.querySelector(".line1"),te=document.querySelector(".line11"),ne=document.querySelector(".line12"),re=document.querySelector(".line13"),ie=document.querySelector(".line2"),se=document.querySelector(".line21"),ae=document.querySelector(".line3"),ce=(document.querySelector(".teams_desk"),document.querySelector(".fon")),oe=document.querySelector("#p1"),ue=document.querySelector("#p2"),le=document.querySelector("#p3"),de=document.querySelector("#p4"),fe=document.querySelector("#p5"),ve=document.querySelector("#p6"),pe=document.querySelector("#p7"),me=document.querySelector("#p8"),he=document.querySelector("#p9"),_e=document.querySelector("#p10"),ye=document.querySelector("#p11");function Le(e){e.preventDefault(),ge(),ee.classList.remove("line_active"),te.classList.remove("line_active"),ne.classList.remove("line_active"),re.classList.remove("line_active"),ie.classList.remove("line_active"),se.classList.remove("line_active"),ae.classList.remove("line_active"),function(e){"t1"===e.target.getAttribute("id")&&oe.classList.add("teams_desk_active");"t2"===e.target.getAttribute("id")&&ue.classList.add("teams_desk_active");"t3"===e.target.getAttribute("id")&&le.classList.add("teams_desk_active");"t4"===e.target.getAttribute("id")&&de.classList.add("teams_desk_active");"t5"===e.target.getAttribute("id")&&fe.classList.add("teams_desk_active");"t6"===e.target.getAttribute("id")&&ve.classList.add("teams_desk_active");"t7"===e.target.getAttribute("id")&&pe.classList.add("teams_desk_active");"t8"===e.target.getAttribute("id")&&me.classList.add("teams_desk_active");"t9"===e.target.getAttribute("id")&&he.classList.add("teams_desk_active");"t10"===e.target.getAttribute("id")&&_e.classList.add("teams_desk_active");"t11"===e.target.getAttribute("id")&&ye.classList.add("teams_desk_active")}(e)}function ge(){oe.classList.remove("teams_desk_active"),ue.classList.remove("teams_desk_active"),le.classList.remove("teams_desk_active"),de.classList.remove("teams_desk_active"),fe.classList.remove("teams_desk_active"),ve.classList.remove("teams_desk_active"),pe.classList.remove("teams_desk_active"),me.classList.remove("teams_desk_active"),he.classList.remove("teams_desk_active"),_e.classList.remove("teams_desk_active"),ye.classList.remove("teams_desk_active")}Z.addEventListener("click",(function(e){e.preventDefault(),document.defaultView.innerWidth<768&&(ee.classList.add("line_active"),te.classList.add("line_active"),ne.classList.add("line_active"),re.classList.add("line_active"),ie.classList.add("line_active"),se.classList.add("line_active"),ae.classList.add("line_active"));document.defaultView.innerWidth<1280&&(ie.classList.add("line_active"),se.classList.add("line_active"));document.defaultView.innerWidth>1280&&ae.classList.add("line_active");ce.classList.add("fon_active")})),ee.addEventListener("click",Le),te.addEventListener("click",Le),ne.addEventListener("click",Le),re.addEventListener("click",Le),ie.addEventListener("click",Le),se.addEventListener("click",Le),ae.addEventListener("click",Le),ce.addEventListener("click",(function(e){ge(),ce.classList.remove("fon_active"),ee.classList.remove("line_active"),te.classList.remove("line_active"),ne.classList.remove("line_active"),re.classList.remove("line_active"),ie.classList.remove("line_active"),se.classList.remove("line_active"),ae.classList.remove("line_active")})),console.dir(document.defaultView.innerWidth),i("8FeKp");var be={};Object.defineProperty(be,"__esModule",{value:!0}),be.default=function(e){return ke.default(e)||we.default(e)||Se.default(e)||xe.default()};var ke=qe(i("kMC0W")),we=qe(i("7AJDX")),xe=qe(i("8CtQK")),Se=qe(i("auk6i"));function qe(e){return e&&e.__esModule?e:{default:e}}b=i("4LMMA");var Me=i("h6c0i"),Ee={width:"280px",borderRadius:"30px",position:"center-bottom",distance:"25px",fontSize:"18px",timeout:2e3},Ae=document.querySelector(".js-filmInfoModal");Ae.addEventListener("click",(function(t){var n=t.target;if(n.classList.contains("js-add-to-watched")||n.classList.contains("js-add-to-queue")){Te=E.getLocalStorage();var r,i=Ae.lastElementChild.lastElementChild.id,s=Te.filter((function(e){return e.id==i}));if(n.classList.contains("js-add-to-watched"))if(b.watchedFilms.getLocalStorage()||b.watchedFilms.setLocalStorage(),b.watchedFilms.getLocalStorage().filter((function(e){return e.id==i})).length)Me.Notify.warning("The movie has already been added to my library",Ee);else(r=b.watchedFilms).addFilmtoStorage.apply(r,e(be)(s)),Me.Notify.success("The movie has been added to my library",Ee);else if(n.classList.contains("js-add-to-queue")){var a;if(b.queueFilms.getLocalStorage()||b.queueFilms.setLocalStorage(),b.queueFilms.getLocalStorage().filter((function(e){return e.id==i})).length)Me.Notify.warning("The movie has already been added to my library",Ee);else(a=b.queueFilms).addFilmtoStorage.apply(a,e(be)(s)),Me.Notify.success("The movie has been added to my library",Ee)}n.disabled="true",n.style.background="#FF7F50"}}));var Te=null;i("cDXQO")}();
//# sourceMappingURL=index.997b3f30.js.map
