{"mappings":"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","sources":["src/my-library.js","src/js/library-markup.js"],"sourcesContent":["import './js/local-storage';\nimport './js/modal-servise';\nimport './js/library-markup';\nimport './js/markups';\nimport './js/trailer';\nimport './js/btn-up';\n","import { watchedFilms, queueFilms } from './local-storage';\nimport { markupTrending, createMarkupModalWindowMyLibrary, getGenreByIdList } from './markups';\nimport modalActions from './modal-servise';\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst options = {\n  width: '280px',\n  borderRadius: '30px',\n  position: 'center-bottom',\n  distance: '25px',\n  fontSize: '18px',\n  timeout: 2000,\n};\n\nconst homeGallery = document.querySelector('.home-gallery');\nhomeGallery.addEventListener('click', onCardClick);\n\nconst watchedBtn = document.querySelector('.js-watched');\nconst queueBtn = document.querySelector('.js-queue');\nconst gallery = document.querySelector('.home-gallery');\nconst defaultPage = document.querySelector('.default');\nconst modalWindow = document.querySelector('.js-filmInfoModal');\n\nwatchedBtn.classList.add('library_current');\nhiddenDefaultPage();\nlet movies = watchedFilms.getLocalStorage() || [];\nif (watchedBtn.classList.contains('library_current')) {\n  const defaultMarkup = watchedFilms.getLocalStorage();\n  console.log(defaultMarkup);\n  if (!defaultMarkup || !defaultMarkup.length) {\n    libraryError();\n    showDefaultPage();\n  } else {\n    markupTrending(defaultMarkup, gallery);\n  }\n}\n\nwatchedBtn.addEventListener('click', onWatchedBtn);\nqueueBtn.addEventListener('click', onQueueBtn);\nmodalWindow.addEventListener('click', onBtnDelete);\n\nwindow.scrollTo(0, 0);\n\nfunction onBtnDelete(event) {\n  const element = event.target;\n  if (element.classList.contains('js-delete')) {\n    if (watchedBtn.classList.contains('library_current')) {\n      movies = watchedFilms.getLocalStorage();\n\n      const filmID = modalWindow.lastElementChild.lastElementChild.id;\n\n      const currentFilm = movies.find(film => film.id == filmID);\n      watchedFilms.deleteFilmFromStorage(currentFilm);\n      Notify.success('The movie has been removed from the collection', options);\n      const currentResponse = watchedFilms.getLocalStorage();\n\n      if (!currentResponse.length) {\n        clearGallery();\n        libraryError();\n        showDefaultPage();\n      } else {\n        markupTrending(currentResponse, gallery);\n      }\n    }\n    if (queueBtn.classList.contains('library_current')) {\n      movies = queueFilms.getLocalStorage();\n      const filmID = modalWindow.lastElementChild.lastElementChild.id;\n      const currentFilm = movies.find(film => film.id == filmID);\n      queueFilms.deleteFilmFromStorage(currentFilm);\n      Notify.success('The movie has been removed from the collection', options);\n\n      const currentResponse = queueFilms.getLocalStorage();\n      if (!currentResponse.length) {\n        clearGallery();\n        libraryError();\n        showDefaultPage();\n      } else {\n        markupTrending(currentResponse, gallery);\n      }\n    }\n  }\n}\n\nfunction onWatchedBtn() {\n  clearGallery();\n  queueBtn.classList.remove('library_current');\n  watchedBtn.classList.add('library_current');\n  movies = watchedFilms.getLocalStorage();\n  if (!movies || !movies.length) {\n    showDefaultPage();\n    libraryError();\n  } else {\n    hiddenDefaultPage();\n    markupTrending(movies, gallery);\n  }\n}\n\nfunction onQueueBtn() {\n  clearGallery();\n  watchedBtn.classList.remove('library_current');\n  queueBtn.classList.add('library_current');\n  movies = queueFilms.getLocalStorage();\n  if (!movies || !movies.length) {\n    showDefaultPage();\n    libraryError();\n  } else {\n    hiddenDefaultPage();\n    markupTrending(movies, gallery);\n  }\n}\nfunction libraryError() {\n  defaultPage.firstElementChild.textContent = 'There are no movies in your library yet..';\n  defaultPage.firstElementChild.style.color = '#ff001b';\n  defaultPage.firstElementChild.style.boxShadow = '0px 0px 9px 0px #ff001b';\n}\nfunction hiddenDefaultPage() {\n  defaultPage.classList.add('visually-hidden');\n}\nfunction showDefaultPage() {\n  defaultPage.classList.remove('visually-hidden');\n}\nfunction clearGallery() {\n  gallery.innerHTML = '';\n}\n\nfunction onCardClick(event) {\n  const filmBox = event.target.closest('.movies-images__item');\n  if (!filmBox) return;\n  const filmBoxId = Number(filmBox.dataset.id);\n  const data = movies.find(film => film.id === filmBoxId);\n  const filmGenres = getGenreByIdList(data.genre_ids);\n  modalActions(event);\n  createMarkupModalWindowMyLibrary(data, filmGenres);\n}\n"],"names":["parcelRequire","$b5rV1","$ddb65353e6f828dc$var$options","width","borderRadius","position","distance","fontSize","timeout","document","querySelector","addEventListener","event","filmBox","target","closest","filmBoxId","Number","dataset","id","data","$ddb65353e6f828dc$var$movies","find","film","filmGenres","$fA0uA","getGenreByIdList","genre_ids","$7TcCz","default","createMarkupModalWindowMyLibrary","$ddb65353e6f828dc$var$watchedBtn","$ddb65353e6f828dc$var$queueBtn","$ddb65353e6f828dc$var$gallery","$ddb65353e6f828dc$var$defaultPage","$ddb65353e6f828dc$var$modalWindow","classList","add","$ddb65353e6f828dc$var$hiddenDefaultPage","watchedFilms","getLocalStorage","contains","defaultMarkup","console","log","length","markupTrending","$ddb65353e6f828dc$var$libraryError","$ddb65353e6f828dc$var$showDefaultPage","firstElementChild","textContent","style","color","boxShadow","remove","$ddb65353e6f828dc$var$clearGallery","innerHTML","queueFilms","filmID","lastElementChild","currentFilm","deleteFilmFromStorage","$iQIUW","Notify","success","currentResponse","window","scrollTo"],"version":3,"file":"my-library.a92dab07.js.map"}