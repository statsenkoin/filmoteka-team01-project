var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},i={},s=e.parcelRequired7c6;null==s&&((s=function(e){if(e in t)return t[e].exports;if(e in i){var s=i[e];delete i[e];var a={id:e,exports:{}};return t[e]=a,s.call(a.exports,a,a.exports),a.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){i[e]=t},e.parcelRequired7c6=s);var a=s("7me8F");let n,c,o,r,d=9,l=1;function u(e,t,i){o=i,l=e,c=t,n=function(e,t){const i=[];let s,a;const n=Math.floor(d/2);e<1?e=1:e>t&&(e=t);t<=d?(s=1,a=t):e<=n?(s=1,a=d):e+n>=t?(s=t-2*n,a=t):(s=e-n,a=e+n);for(let e=s;e<=a;e+=1)i.push(e);d>=9&&(i.splice(0,1,1),i.splice(i.length-1,1,t),e-1>n&&t>d&&i.splice(1,1," ..."),e+1+n<t&&t>d&&i.splice(i.length-2,1,"... "));return i}(l,c),function(e,t){let i=e.reduce(((e,t)=>e+`<button type="button" ${t===l?'class="pagination-button pagination-button-current"':'class="pagination-button"'}>${t}</button>`),"");c>d&&(1!==l&&(i='<button type="button" class="pagination-button">&lt;</button>'+i),l!==c&&(i+='<button type="button" class="pagination-button">&gt;</button>'));t.innerHTML="",t.insertAdjacentHTML("beforeend",i)}(n,o)}function m(e){const t=e.target.textContent;return isNaN(Number(t))||(r=Number(t)),">"===t&&(r=l===c?c:l+1),"<"===t&&(r=1===l?1:l-1)," ..."===t&&(r=l-(d-4)),"... "===t&&(r=l+(d-4)),l=r,l}window.addEventListener("resize",(()=>{const e=window.matchMedia("(min-width: 768px)").matches;d=e?9:5,u(l,c,o)}));var v=s("fA0uA"),L=s("7TcCz");var h=s("b5rV1"),g=s("9AkgD");const _=document.querySelector(".dropdown"),f=document.querySelector(".items");_.addEventListener("click",(function(e){e.preventDefault(),_.classList.toggle("active")})),function(){const e=g.dataGenres.genres.map(((e,t)=>`<a href="#" style="--i:${t+1}" id="${e.id}">\n           <span></span>${e.name}\n         </a>`)).join("");f.insertAdjacentHTML("beforeend",e)}();const p=new(0,h.LocalStorage)("currentFilmsList"),y=new class{getRefs(e){const t={};return t.spinner=document.querySelector(e),t}show(){this.refs.spinner.classList.remove("is-hidden")}hide(){this.refs.spinner.classList.add("is-hidden")}constructor({selector:e,hidden:t=!0}){this.refs=this.getRefs(e),t&&this.hide()}}({selector:".loading"}),b=document.querySelector(".home-gallery"),w=document.querySelector(".pagination"),k=document.querySelector("#input-toggle"),S=document.querySelector(".search-form"),q=document.querySelector(".error-text");let E,T,A;b.addEventListener("click",(function(e){const t=e.target.closest(".movies-images__item");if(!t)return;const i=Number(t.dataset.id),s=A.find((e=>e.id===i)),a=(0,v.getGenreByIdList)(s.genre_ids);(0,L.default)(e),(0,v.createMarkupModalWindow)(s,a)})),w.addEventListener("click",(async function(e){if("BUTTON"!==e.target.nodeName)return;y.show();const t=m(e);if(t===D)return;D=t,await W(),window.scrollTo(0,0),y.hide()})),k.addEventListener("change",(async function(e){j=e.currentTarget.checked,V=!1,C=!1,D=1,await W()})),f.addEventListener("click",(async function(e){e.preventDefault(),V=!0,C=!1,F=e.target.id,D=1,await W()})),S.addEventListener("submit",(async function(e){if(e.preventDefault(),N=e.target.elements.searchQuery.value.trim(),S.reset(),!N)return q.style.opacity="1",void setTimeout((()=>{q.style.opacity="0"}),2e3);C=!0,V=!1,x=D,D=1,await W()}));let F,N="",x=1,D=1,M=1,j=!1,V=!1,C=!1;async function W(){y.show(),await async function(){if(C){const e=await(0,a.fetchQuery)(N,D);if(!e.results.length)return D=x,void y.hide();E=e}else E=V?await(0,a.fetchMoivesByGenre)(F,D):j?await(0,a.fetchPopularDay)(D):await(0,a.fetchPopular)(D)}(),M=V?300:E.total_pages,A=E.results,p.setLocalStorage(A),(0,v.markupTrending)(A,b),u(D,M,w),y.hide()}q.style.opacity="0",async function(){y.show(),E=await(0,a.fetchGenre)(),T=E.genres,h.genresFilm.setLocalStorage(T),await W(),y.hide()}(),s("b5rV1");({el:document.querySelector(".btn-up"),scrolling:!1,show(){this.el.classList.contains("btn-up_hide")&&!this.el.classList.contains("btn-up_hiding")&&(this.el.classList.remove("btn-up_hide"),this.el.classList.add("btn-up_hiding"),window.setTimeout((()=>{this.el.classList.remove("btn-up_hiding")}),300))},hide(){this.el.classList.contains("btn-up_hide")||this.el.classList.contains("btn-up_hiding")||(this.el.classList.add("btn-up_hiding"),window.setTimeout((()=>{this.el.classList.add("btn-up_hide"),this.el.classList.remove("btn-up_hiding")}),300))},addEventListener(){window.addEventListener("scroll",(()=>{const e=window.scrollY||document.documentElement.scrollTop;this.scrolling&&e>0||(this.scrolling=!1,e>400?this.show():this.hide())})),document.querySelector(".btn-up").onclick=()=>{this.scrolling=!0,this.hide(),window.scrollTo({top:0,left:0,behavior:"smooth"})}}}).addEventListener(),s("7TcCz");const R=document.querySelector(".footer__link"),$=document.querySelector(".line1"),z=document.querySelector(".line11"),G=document.querySelector(".line12"),O=document.querySelector(".line13"),U=document.querySelector(".line2"),B=document.querySelector(".line21"),H=document.querySelector(".line3"),I=(document.querySelector(".teams_desk"),document.querySelector(".fon")),Q=document.querySelector("#p1"),P=document.querySelector("#p2"),Y=document.querySelector("#p3"),J=document.querySelector("#p4"),K=document.querySelector("#p5"),X=document.querySelector("#p6"),Z=document.querySelector("#p7"),ee=document.querySelector("#p8"),te=document.querySelector("#p9"),ie=document.querySelector("#p10"),se=document.querySelector("#p11");function ae(e){e.preventDefault(),ne(),$.classList.remove("line_active"),z.classList.remove("line_active"),G.classList.remove("line_active"),O.classList.remove("line_active"),U.classList.remove("line_active"),B.classList.remove("line_active"),H.classList.remove("line_active"),function(e){"t1"===e.target.getAttribute("id")&&Q.classList.add("teams_desk_active");"t2"===e.target.getAttribute("id")&&P.classList.add("teams_desk_active");"t3"===e.target.getAttribute("id")&&Y.classList.add("teams_desk_active");"t4"===e.target.getAttribute("id")&&J.classList.add("teams_desk_active");"t5"===e.target.getAttribute("id")&&K.classList.add("teams_desk_active");"t6"===e.target.getAttribute("id")&&X.classList.add("teams_desk_active");"t7"===e.target.getAttribute("id")&&Z.classList.add("teams_desk_active");"t8"===e.target.getAttribute("id")&&ee.classList.add("teams_desk_active");"t9"===e.target.getAttribute("id")&&te.classList.add("teams_desk_active");"t10"===e.target.getAttribute("id")&&ie.classList.add("teams_desk_active");"t11"===e.target.getAttribute("id")&&se.classList.add("teams_desk_active")}(e)}function ne(){Q.classList.remove("teams_desk_active"),P.classList.remove("teams_desk_active"),Y.classList.remove("teams_desk_active"),J.classList.remove("teams_desk_active"),K.classList.remove("teams_desk_active"),X.classList.remove("teams_desk_active"),Z.classList.remove("teams_desk_active"),ee.classList.remove("teams_desk_active"),te.classList.remove("teams_desk_active"),ie.classList.remove("teams_desk_active"),se.classList.remove("teams_desk_active")}R.addEventListener("click",(function(e){e.preventDefault(),document.defaultView.innerWidth<768&&($.classList.add("line_active"),z.classList.add("line_active"),G.classList.add("line_active"),O.classList.add("line_active"),U.classList.add("line_active"),B.classList.add("line_active"),H.classList.add("line_active"));document.defaultView.innerWidth<1280&&(U.classList.add("line_active"),B.classList.add("line_active"));document.defaultView.innerWidth>1280&&H.classList.add("line_active");I.classList.add("fon_active")})),$.addEventListener("click",ae),z.addEventListener("click",ae),G.addEventListener("click",ae),O.addEventListener("click",ae),U.addEventListener("click",ae),B.addEventListener("click",ae),H.addEventListener("click",ae),I.addEventListener("click",(function(e){ne(),I.classList.remove("fon_active"),$.classList.remove("line_active"),z.classList.remove("line_active"),G.classList.remove("line_active"),O.classList.remove("line_active"),U.classList.remove("line_active"),B.classList.remove("line_active"),H.classList.remove("line_active")})),console.dir(document.defaultView.innerWidth),s("9AkgD");h=s("b5rV1");var ce=s("iQIUW");const oe={width:"280px",borderRadius:"30px",position:"center-bottom",distance:"25px",fontSize:"18px",timeout:2e3},re=document.querySelector(".js-filmInfoModal");re.addEventListener("click",(function(e){const t=e.target;if(t.classList.contains("js-add-to-watched")||t.classList.contains("js-add-to-queue")){de=p.getLocalStorage();const e=re.lastElementChild.lastElementChild.id,i=de.filter((t=>t.id==e));if(t.classList.contains("js-add-to-watched")){h.watchedFilms.getLocalStorage()||h.watchedFilms.setLocalStorage();const t=h.watchedFilms.getLocalStorage();t.filter((t=>t.id==e)).length?ce.Notify.warning("The movie has already been added to my library",oe):(h.watchedFilms.addFilmtoStorage(...i),ce.Notify.success("The movie has been added to my library",oe))}else if(t.classList.contains("js-add-to-queue")){h.queueFilms.getLocalStorage()||h.queueFilms.setLocalStorage();const t=h.queueFilms.getLocalStorage();t.filter((t=>t.id==e)).length?ce.Notify.warning("The movie has already been added to my library",oe):(h.queueFilms.addFilmtoStorage(...i),ce.Notify.success("The movie has been added to my library",oe))}t.disabled="true",t.style.background="#FF7F50"}}));let de=null;s("37v9V");
//# sourceMappingURL=index.4270fc06.js.map
